var JobTypeView,FileContentChecker;!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).ajaxSubmit(i))}function u(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),0===f.length)return;r=f[0]}i=this;(i.clk=r,"image"==r.type)&&(void 0!==t.offsetX?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):"function"==typeof n.fn.offset?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={},f;i.fileapi=void 0!==n("<input type='file'/>").get(0).files;i.formdata=void 0!==window.FormData;f=!!n.fn.prop;n.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||"string"==typeof n?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(r){function et(t){for(var f,u=n.param(t,r.traditional).split("&"),o=u.length,e=[],i=0;o>i;i++)u[i]=u[i].replace(/\+/g," "),f=u[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function ot(t){for(var f,u,s,o=new FormData,i=0;i<t.length;i++)o.append(t[i].name,t[i].value);if(r.extraData)for(f=et(r.extraData),i=0;i<f.length;i++)f[i]&&o.append(f[i][0],f[i][1]);return r.data=null,u=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:e||"POST"}),r.uploadProgress&&(u.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,u=n.total;n.lengthComputable&&(t=Math.ceil(i/u*100));r.uploadProgress(n,i,u,t)},!1),t}),u.data=null,s=u.beforeSend,u.beforeSend=function(n,t){t.data=r.formData?r.formData:o;s&&s.call(this,n,t)},n.ajax(u)}function d(i){function ut(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function ft(){function f(){try{var n=ut(a).readyState;t("state = "+n);n&&"uninitialized"==n.toLowerCase()&&setTimeout(f,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(rt);g&&clearTimeout(g);g=void 0}}var s=u.attr2("target"),h=u.attr2("action"),y=u.attr("enctype")||u.attr("encoding")||"multipart/form-data",r,i,c;l.setAttribute("target",d);(!e||/post/i.test(e))&&l.setAttribute("method","POST");h!=o.url&&l.setAttribute("action",o.url);o.skipEncodingOverride||e&&!/post/i.test(e)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});o.timeout&&(g=setTimeout(function(){it=!0;b(et)},o.timeout));r=[];try{if(o.extraData)for(i in o.extraData)o.extraData.hasOwnProperty(i)&&(n.isPlainObject(o.extraData[i])&&o.extraData[i].hasOwnProperty("name")&&o.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+o.extraData[i].name+'">').val(o.extraData[i].value).appendTo(l)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(o.extraData[i]).appendTo(l)[0]));o.iframeTarget||v.appendTo("body");a.attachEvent?a.attachEvent("onload",b):a.addEventListener("load",b,!1);setTimeout(f,15);try{l.submit()}catch(p){c=document.createElement("form").submit;c.apply(l)}}finally{l.setAttribute("action",h);l.setAttribute("enctype",y);s?l.setAttribute("target",s):u.removeAttr("target");n(r).remove()}}function b(i){var u,r,w,f,k,d,e,c,l;if(!s.aborted&&!ct){if(h=ut(a),h||(t("cannot access response document"),i=rt),i===et&&s)return s.abort("timeout"),y.reject(s,"timeout"),void 0;if(i==rt&&s)return s.abort("server abort"),y.reject(s,"error","server abort"),void 0;if(h&&h.location.href!=o.iframeSrc||it){a.detachEvent?a.detachEvent("onload",b):a.removeEventListener("load",b,!1);r="success";try{if(it)throw"timeout";if(w="xml"==o.dataType||h.XMLDocument||n.isXMLDoc(h),t("isXml="+w),!w&&window.opera&&(null===h.body||!h.body.innerHTML)&&--lt)return t("requeing onLoad callback, DOM not available"),setTimeout(b,250),void 0;f=h.body?h.body:h.documentElement;s.responseText=f?f.innerHTML:null;s.responseXML=h.XMLDocument?h.XMLDocument:h;w&&(o.dataType="xml");s.getResponseHeader=function(n){var t={"content-type":o.dataType};return t[n.toLowerCase()]};f&&(s.status=Number(f.getAttribute("status"))||s.status,s.statusText=f.getAttribute("statusText")||s.statusText);k=(o.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||o.textarea?(e=h.getElementsByTagName("textarea")[0],e?(s.responseText=e.value,s.status=Number(e.getAttribute("status"))||s.status,s.statusText=e.getAttribute("statusText")||s.statusText):d&&(c=h.getElementsByTagName("pre")[0],l=h.getElementsByTagName("body")[0],c?s.responseText=c.textContent?c.textContent:c.innerText:l&&(s.responseText=l.textContent?l.textContent:l.innerText))):"xml"==k&&!s.responseXML&&s.responseText&&(s.responseXML=at(s.responseText));try{ht=yt(s,k,o)}catch(nt){r="parsererror";s.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";s.error=u=nt||r}s.aborted&&(t("upload aborted"),r=null);s.status&&(r=s.status>=200&&s.status<300||304===s.status?"success":"error");"success"===r?(o.success&&o.success.call(o.context,ht,"success",s),y.resolve(s.responseText,"success",s),p&&n.event.trigger("ajaxSuccess",[s,o])):r&&(void 0===u&&(u=s.statusText),o.error&&o.error.call(o.context,s,r,u),y.reject(s,"error",u),p&&n.event.trigger("ajaxError",[s,o,u]));p&&n.event.trigger("ajaxComplete",[s,o]);p&&!--n.active&&n.event.trigger("ajaxStop");o.complete&&o.complete.call(o.context,s,r);ct=!0;o.timeout&&clearTimeout(g);setTimeout(function(){o.iframeTarget?v.attr("src",o.iframeSrc):v.remove();s.responseXML=null},100)}}}var tt,nt,o,p,d,v,a,s,k,w,it,g,l=u[0],y=n.Deferred();if(y.abort=function(n){s.abort(n)},i)for(nt=0;nt<c.length;nt++)tt=n(c[nt]),f?tt.prop("disabled",!1):tt.removeAttr("disabled");if(o=n.extend(!0,{},n.ajaxSettings,r),o.context=o.context||o,d="jqFormIO"+(new Date).getTime(),o.iframeTarget?(v=n(o.iframeTarget),w=v.attr2("name"),w?d=w:v.attr2("name",d)):(v=n('<iframe name="'+d+'" src="'+o.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=v[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r="timeout"===i?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{a.contentWindow.document.execCommand&&a.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",o.iframeSrc);s.error=r;o.error&&o.error.call(o.context,s,r,i);p&&n.event.trigger("ajaxError",[s,o,r]);o.complete&&o.complete.call(o.context,s,r)}},p=o.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[s,o]),o.beforeSend&&o.beforeSend.call(o.context,s,o)===!1)return o.global&&n.active--,y.reject(),y;if(s.aborted)return y.reject(),y;k=l.clk;k&&(w=k.name,w&&!k.disabled&&(o.extraData=o.extraData||{},o.extraData[w]=k.value,"image"==k.type&&(o.extraData[w+".x"]=l.clk_x,o.extraData[w+".y"]=l.clk_y)));var et=1,rt=2,ot=n("meta[name=csrf-token]").attr("content"),st=n("meta[name=csrf-param]").attr("content");st&&ot&&(o.extraData=o.extraData||{},o.extraData[st]=ot);o.forceSync?ft():setTimeout(ft,10);var ht,h,ct,lt=50,at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},vt=n.parseJSON||function(a){return window.eval("("+a+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e="xml"===i||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&"parsererror"===u.documentElement.nodeName&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),"string"==typeof u&&("json"===i||!i&&f.indexOf("json")>=0?u=vt(u):("script"===i||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return y}var e,b,o,u,a,v,y,c,s,l,h,g,nt,tt,p,ft,w;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(u=this,"function"==typeof r?r={success:r}:void 0===r&&(r={}),e=r.type||this.attr2("method"),b=r.url||this.attr2("action"),o="string"==typeof b?n.trim(b):"",o=o||window.location.href||"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:o,success:n.ajaxSettings.success,type:e||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),a={},this.trigger("form-pre-serialize",[this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(v=r.traditional,void 0===v&&(v=n.ajaxSettings.traditional),c=[],s=this.formToArray(r.semantic,c),r.data&&(r.extraData=r.data,y=n.param(r.data,v)),r.beforeSubmit&&r.beforeSubmit(s,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[s,this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;l=n.param(s,v);y&&(l=l?l+"&"+y:y);"GET"==r.type.toUpperCase()?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+l,r.data=null):r.data=l;h=[];(r.resetForm&&h.push(function(){u.resetForm()}),r.clearForm&&h.push(function(){u.clearForm(r.includeHidden)}),!r.dataType&&r.target)?(g=r.success||function(){},h.push(function(t){var i=r.replaceTarget?"replaceWith":"html";n(r.target)[i](t).each(g,arguments)})):r.success&&h.push(r.success);(r.success=function(n,t,i){for(var e=r.context||this,f=0,o=h.length;o>f;f++)h[f].apply(e,[n,t,i||u,u])},r.error)&&(nt=r.error,r.error=function(n,t,i){var f=r.context||this;nt.apply(f,[n,t,i,u])});r.complete&&(tt=r.complete,r.complete=function(n,t){var i=r.context||this;tt.apply(i,[n,t,u])});var st=n("input[type=file]:enabled",this).filter(function(){return""!==n(this).val()}),it=st.length>0,rt="multipart/form-data",ut=u.attr("enctype")==rt||u.attr("encoding")==rt,k=i.fileapi&&i.formdata;for(t("fileAPI :"+k),ft=(it||ut)&&!k,r.iframe!==!1&&(r.iframe||ft)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){p=d(s)}):p=d(s):p=(it||ut)&&k?ot(s):n.ajax(r),u.removeData("jqxhr").data("jqxhr",p),w=0;w<c.length;w++)c[w]=null;return this.trigger("form-submit-notify",[this,r]),this};n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!n.isReady&&f.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(f.s,f.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return i.delegation?(n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u),this):this.ajaxFormUnbind().bind("submit.form-plugin",i,r).bind("click.form-plugin",i,u)};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r){var e=[],l,h,f,c,u,b,k,a,p,v;if(0===this.length)return e;var y,o=this[0],w=this.attr("id"),s=t?o.getElementsByTagName("*"):o.elements;if(s&&!/MSIE 8/.test(navigator.userAgent)&&(s=n(s).get()),w&&(y=n(":input[form="+w+"]").get(),y.length&&(s=(s||[]).concat(y))),!s||!s.length)return e;for(l=0,b=s.length;b>l;l++)if(u=s[l],f=u.name,f&&!u.disabled)if(t&&o.clk&&"image"==u.type)o.clk==u&&(e.push({name:f,value:n(u).val(),type:u.type}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));else if(c=n.fieldValue(u,!0),c&&c.constructor==Array)for(r&&r.push(u),h=0,k=c.length;k>h;h++)e.push({name:f,value:c[h]});else if(i.fileapi&&"file"==u.type)if(r&&r.push(u),a=u.files,a.length)for(h=0;h<a.length;h++)e.push({name:f,value:a[h],type:u.type});else e.push({name:f,value:"",type:u.type});else null!==c&&"undefined"!=typeof c&&(r&&r.push(u),e.push({name:f,value:c,type:u.type,required:u.required}));return!t&&o.clk&&(p=n(o.clk),v=p[0],f=v.name,f&&!v.disabled&&"image"==v.type&&(e.push({name:f,value:p.val()}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))),e};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;e>u;u++)i.push({name:f,value:r[u]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;e>u;u++)f=this[u],i=n.fieldValue(f,t),null!==i&&"undefined"!=typeof i&&(i.constructor!=Array||i.length)&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,r,f;if(void 0===i&&(i=!0),i&&(!a||t.disabled||"reset"==u||"button"==u||("checkbox"==u||"radio"==u)&&!t.checked||("submit"==u||"image"==u)&&t.form&&t.form.clk!=t||"select"==h&&-1==t.selectedIndex))return null;if("select"==h){if(e=t.selectedIndex,0>e)return null;for(var c=[],l=t.options,o="select-one"==u,v=o?e+1:l.length,s=o?e:0;v>s;s++)if(r=l[s],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),o)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||"textarea"==u?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==u?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return void 0===n&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type,i;"checkbox"==r||"radio"==r?this.checked=t:"option"==this.tagName.toLowerCase()&&(i=n(this).parent("select"),t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1}),function(n){n.Utilities={popupVisible:function(n,t){if(n.removeClass("hidden").attr("aria-hidden","false"),t){var r=$(t.data("target")),i=t.hasClass("is-parent-active");i&&t.parent().addClass("active")}},popupVisibleCenter:function(t,i){var u,r,f,e;i&&(u=$(i.data("target")));n.Utilities.popupVisible(t,i);r=i.parents(".container").position().top;f=i.parents(".row").offset().top;r+=r>100?-150:50;u.css("top",r+"px");e=r>100?screen.height/2:screen.height/4;$("html, body").animate({scrollTop:f-e},400)},popupHidden:function(n,t){if(n.addClass("hidden").attr("aria-hidden","true"),t){var i=$(t.data("target")),r=t.hasClass("is-parent-deactive");r&&t.parents(i).parent().removeClass("active")}},numberWithCommas:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},notifacation:function(n){n.fadeIn(1e3).delay(1e3).fadeOut(1e3)},unsetExpandedDropdown:function(n){var t=n?n:$(".dropdown.expanded"),i;t.removeClass("expanded").removeClass("visible");i=t.find(".list.visible");i.removeClass("visible").addClass("hidden")},clearValueInput:function(n){n.removeClass("is-value");n.find("input").val("");n.find("textarea").val("");n.find(".unit").removeClass("hidden");n.find(".unit").addClass("hidden")},clearValueDropdown:function(n,t){t=typeof t=="undefined"?"":t;n.removeClass("selected");n.find(".label").addClass("hidden");var i=n.find(".label").text();n.find("input:hidden").val(t);n.find(".buttonChoose span").html(i)},clearValueDropdownLabelByHtml:function(n,t){t=typeof t=="undefined"?"":t;n.removeClass("selected");n.find(".label").addClass("hidden");var i=n.find(".label").html();n.find("input:hidden").val(t);n.find(".buttonChoose span").html(i)},clearValueDropdownRadio:function(n){n.removeClass("selected");n.find(".label").addClass("hidden");n.find(":radio:checked").attr("checked",!1);var t=n.find(".label").html();n.find(".buttonChoose span").html(t)},setTextDropdownRadio:function(n){var i=n.find(":radio:checked"),r,t;i.size()>0&&(n.addClass("selected"),n.find(".label").removeClass("hidden"),r=n.find(".buttonChoose span"),t="",i.each(function(){var n=$("label[for='"+$(this).attr("id")+"']").html();t=t+n+" "}),r.html(t))},setTextDropdownCheckbox:function(n){var t=[];n.find(":checkbox:checked").each(function(){var n=$("[for='"+$(this).attr("id")+"']").text();t.push(n)});this.setTextDropdown(n,t.join(" "))},setTextDropdown:function(n,t){n.addClass("selected");n.find(".label").removeClass("hidden");var i=n.find(".buttonChoose span");i.html(t)},setValueDropdown:function(n){n.each(function(){var n=$(this),t=n.find("input:hidden").val(),i;t!=""&&(i=n.find(".list :button[data-value='"+t+"']"),i.trigger("click"))})},setCheckedCheckbox:function(n){n.each(function(){var n=$(this),i=n.find("input[type='hidden']"),t=n.find(":checkbox"),r=t.data("checked-value");i.val()==r&&t.attr("checked",!0)})},togglePopupField:function(n){var t=$(n).next();t.hasClass("hidden")?this.showPopupField(n):this.hidePopupField(n)},showPopupField:function(n){var t=$(n),i=t.next();i.css("left",Math.ceil(t.position().left)-(i.outerWidth()-t.outerWidth())/2);this.popupVisible(i)},hidePopupField:function(n){var t=$(n).next();this.popupHidden(t)},isMonthRequire:function(n){return n?n.length<4||!this.isValidYear(n.substr(0,4))?!1:n.length==4||n.length==6&&n.substr(4,2)=="00"?!0:void 0:!1},isValidYear:function(n){return/^\d{4}$/.test(n)},isValidYearMonth:function(n){if(!/^\d{4}.\d{2}$/.test(n))return!1;var t=n.split("."),r=t[0],i=t[1],u=(new Date).getFullYear()+1;return Number(i)>=1&&Number(i)<=12?!0:!1},isValidYearMonthDay:function(n){if(!/^\d{4}.\d{2}.\d{2}$/.test(n))return!1;var t=n.split("."),r=t[0],i=t[1],u=t[2],f=(new Date).getFullYear()+1;return Number(i)>=1&&Number(i)<=12?!0:!1},isValidDate:function(n){var t=n.split("."),i=new Date(t[0],t[1]-1,t[2]);return i&&i.getMonth()+1==t[1]},getMonthCnt:function(t,i){if(n.Utilities.isValidDate(t+".01")==!1||n.Utilities.isValidDate(i+".01")==!1)return 0;t=t.replace(".","");i=i.replace(".","");var r=new Date(t.substring(0,4),t.substring(4,6),1),f=new Date(i.substring(0,4),i.substring(4,6),1),u;if(r>f)u=-1;else if(u=1,r<f)while(r<f)u=u+1,r.setMonth(r.getMonth()+1);return u},setInitStarterInputStat:function(){$("#InputStat_SchoolInputStat").val("True");$("#InputStat_SocialInputStat").val("True");$("#InputStat_LanguageInputStat").val("True");$("#InputStat_UserIntroduceInputStat").val("True")},setInitCareerInputStat:function(){$("#InputStat_CareerInputStat").val("True");$("#InputStat_UserIntroduceInputStat").val("True")},setInputStatSync:function(){$("#FixedMenuView input[type='hidden']").each(function(){var n=$("#FixedMenuView").find(":button[data-sync_id='"+$(this).attr("id")+"']"),t=n.parents("li").find("a"),i=$("#"+n.data("linked_form_id")),r=$(this).val()=="True";n.removeClass("button-field-remove");t.removeClass("selected");i.hide();r&&(n.addClass("button-field-remove"),t.addClass("selected"),i.show())})},getbyteLen:function(n){var r=0,t;for(i=0;i<n.length;i++)t=n.charAt(i),escape(t).length>4?r+=2:t=="\n"?n.charAt(i-1)!="\r"&&(r+=1):r+=t=="<"||t==">"?4:1;return r},focusCenter:function(n){var t=$(window).height()/2,i=n.offset().top;i>t?$(window).scrollTop(i-t):$(window).scrollTop(0)},resetValidation:function(n){if(!n.hasClass("devcheckbox")){var t=n.find(".validation");t.size()==0&&(n.append("<div class='validation hidden' aria-hidden='true'><\/div>"),t=n.find(".validation"));t.html("");t.addClass("hidden");n.removeClass("error")}},validationMsgShow:function(n,t){var r,i;n.hasClass("devcheckbox")?this.focusCenter(n.find(".buttonTip")):(r=n.find(".label").text(),t||(t=r+"을 선택해주세요."),i=n.find(".validation"),i.size()==0&&(n.append("<div class='validation hidden' aria-hidden='true'><\/div>"),i=n.find(".validation")),i.html(t),i.removeClass("hidden"),n.addClass("error"))}}}(window.Resume=window.Resume||{});$.fn.jkAc2=function(n){var u=this,v=n.containerQuery||".container",f=u.closest(v),i=u.find("[data-comp_type='jkAcInput']"),t=u.find("[data-comp_type='jkAcResultWrap']"),y=f.find(":input[data-type]"),p=this.find("[type='hidden'][data-type='"+i.data("type")+"']"),w=u.find("label").html(),h=n.parentView,c=n.callback,b=n.timeDelay?n.timeDelay:100,e=null,o=null,r=-1,k=n.collection,d=n.defaultParam,l=n.emptyKeywordMsgShow,g=function(){var n=i.val();o!==n&&(n!==""?(u.hasClass("error")&&(u.removeClass("error"),u.find(".validation").addClass("hidden")),o=n,k.fetch({data:$.param(_.extend({searchText:n,_:(new Date).getTime()},d)),success:function(){r=-1}})):(o=n,(typeof l=="undefined"||l)&&(t.removeClass("hidden"),t.html("<p class='text direct'>찾으려는 "+w+"을 입력해주세요<\/p>"))))},s,a;i.off("focusin");i.focusin(function(){r=-1;o=null;window.clearTimeout(e);e=window.setInterval(function(){g()},b)});i.off("focusout");i.focusout(function(){window.clearTimeout(e);window.setTimeout(function(){i.is(":focus")||i.val()!=p.val()&&(y.val(""),u.removeClass("is-value"))},100)});$(document).unbind("click.jkAc2").bind("click.jkAc2",function(){$("[data-comp_type='jkAcResultWrap']").each(function(){$(this).hasClass("hidden")||$(this).addClass("hidden")})});t.off("click",":button");t.on("click",":button",function(n){var r=$(this),i=r.data("json");f.find("[data-type]").val("");for(datafieldName in i)f.find("[data-type='"+datafieldName+"']").val(i[datafieldName]);f.find("[data-type]").each(function(){$(this).val()!=""&&$(this).closest(".input").addClass("is-value")});t.addClass("hidden");typeof h!="undefined"&&typeof c=="function"&&c.call(h,n)});i.off("keydown");i.keydown(function(n){var i=$(n.currentTarget);if(t.is(":visible"))switch(n.keyCode){case 38:s("up",i);break;case 40:s("down",i);break;case 13:n.preventDefault();r>-1&&($selectedBtn=t.find(".button").eq(r),$selectedBtn.focus(),$selectedBtn.click());break;case 9:n.preventDefault();s("down",i);break;default:return i.trigger("focusin"),!0}});s=function(n){var u,f,i;for(window.clearTimeout(e),n=="down"?t.find(".button").not(".buttonDirect").size()-1>r&&r++:n=="up"&&r>0&&r--,u=t.find("button").eq(r),f=0,i=0;i<r;i++)f+=t.find("button").eq(i).outerHeight(!0);t.find(".list").scrollTop(f);t.find(".hover").removeClass("hover");u.addClass("hover");a(u)};a=function(n){var t=n.data("json");for(datafieldName in t)f.find("[data-type='"+datafieldName+"']").val(t[datafieldName]);f.find("[data-type]").each(function(){$(this).val()!=""&&$(this).closest(".input").addClass("is-value")})}};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){for(var i=(this.document||this.ownerDocument).querySelectorAll(n),t=i.length;--t>=0&&i.item(t)!==this;);return t>-1}),function(n){n.helper=function(){this.appVersion=(navigator.appVersion||"").toLowerCase();this.userAgent=(navigator.userAgent||"").toLowerCase()};n.helper.prototype={isIE:function(){return/msie/.test(this.userAgent)||/trident/.test(this.userAgent)?!0:!1},addClass:function(n,t){n.classList?n.classList.add(t):this.hasClass(n,t)||(n.className+=" "+t)},hasClass:function(n,t){return n.classList?n.classList.contains(t):new RegExp("\\b"+t+"\\b").test(n.className)},numberWithCommas:function(n){var n=n.replace(/,/g,"");return n.replace(/\B(?=(\d{3})+(?!\d))/g,",")}};n.Helper=new n.helper}(window.Resume=window.Resume||{}),function(n){n.Input=function(t){if(!t)return!1;var i=this,u=n(t),r=u.children("input, textarea"),o=u.find(".unit"),p=r.data("pattern"),e=u.children(".buttonDelete"),a=r.data("format-type"),f=r.data("required"),v=u.find(".validation"),s=r.data("validate-message")||"",h=u.find(".autocomplete"),c=h.find("ul"),y=r.data("limit")||12,l=u.find(".highlights")||{};if($limitYear=r.data("limit-year"),date=new Date,year=date.getFullYear(),month=date.getMonth(),areaCode=["02","031","032","033","041","042","043","044","051","052","053","054","055","061","062","063","064"],phoneCode=["011","010","016","017","018","019","050"],emailData={autocomplete:"",domains:["naver.com","nate.com","gmail.com","daum.net","hanmail.net"]},e)e.on("click",function(){n(this).prev("input").val("");e.addClass("hidden").prop("aria-hidden","true")});i.init=function(){this.initFocus();switch(a){case"name":this.initName();break;case"tel":this.initTel();break;case"hp":this.initHp();break;case"phone":this.initPhone();break;case"price":this.initPrice();break;case"month":this.initMonth();break;case"birth":this.initBirth();break;case"email":this.initEmail();break;case"year_month_day":this.initYearMonthDay();break;case"year":this.initYear();break;case"score":this.initScore();break;default:this.initInput()}r.val()!==""&&(r.trigger("input"),u.addClass("is-value"))};i.initFocus=function(){r.on("focus",function(){if(u.hasClass("is-readonly"))return!1;u.addClass("focus");o.removeClass("hidden").prop("aria-hidden","false");e&&e.removeClass("hidden").prop("aria-hidden","false")})};i.initBlur=function(){u.removeClass("focus");r.val()==""?(u.removeClass("is-value"),o.addClass("hidden").prop("aria-hidden","true"),e.addClass("hidden").prop("aria-hidden","true")):(u.addClass("is-value"),o.removeClass("hidden").prop("aria-hidden","false"),e.removeClass("hidden").prop("aria-hidden","false"))};i.initName=function(){r.on({keyup:function(){},blur:function(){if(i.initBlur(),i.isEmpty()&&f)return i.showMessage(i.getLabelText()+"을/를 입력해주세요"),!1;!i.isEmpty()&&r.val().match(/[0-9\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi)?i.showMessage("정말 이 이름이신가요?"):i.hideMessage()}})};i.initInput=function(){r.on({blur:function(){if(i.initBlur(),f){if(i.isEmpty())return s!=""?i.showMessage(s):i.showMessage(i.getLabelText()+"을 입력해주세요"),!1;i.hideMessage()}else i.hideMessage()}})};i.setInputEllipsisOnlyIE=function(){var t=r.val()||"",i=n("<div />",{text:t,"class":"backdrop-ellipsis hidden","aria-hidden":"true"}).appendTo(u);t&&i.removeClass("hidden");i.on("click",function(){t=n(this).text();r.val(t).focus();n(this).addClass("hidden")});r.on("blur",function(){t=n(this).val();t!=""&&i.text(t).removeClass("hidden")})};i.initTel=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/\D/g,"");n!=null&&n.substr(0,1)=="0"&&(n=n.length<10?n.replace(/\D/g,"").match(/(\d{0,2})(\d{0,3})(\d{0,4})/):n.length<11?n.substring(0,2)=="02"?n.replace(/\D/g,"").match(/(\d{0,2})(\d{0,4})(\d{0,4})/):n.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/):n.replace(/\D/g,"").match(/(\d{0,3})(\d{0,4})(\d{0,4})/),t.target.value=n[2]?n[1]+"-"+n[2]+(n[3]?"-"+n[3]:""):n[1])},blur:function(){if(i.initBlur(),i.isEmpty()||n[0].substr(0,1)!="0"||n[1].length>=2&&n[2].length>=3&&n[3].length==4)i.hideMessage();else return i.showMessage("전화번호를 확인해주세요."),!1}})};i.initHp=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/\D/g,"");n!=null&&n.substr(0,1)=="0"&&(n=n.length<11?n.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/):n.replace(/\D/g,"").match(/(\d{0,3})(\d{0,4})(\d{0,4})/),t.target.value=n[2]?n[1]+"-"+n[2]+(n[3]?"-"+n[3]:""):n[1])},blur:function(){if(i.initBlur(),!i.isEmpty()&&n[0].substr(0,1)=="0"&&(i.matchPhoneCode(n[1])===undefined||n[1].length<3||n[2].length<3||n[3].length<4||n[1]==="010"&&n[2].length<4))return i.showMessage("휴대폰번호를 확인해주세요.(해외번호는 전화번호에 입력가능)"),!1;i.hideMessage()}})};i.initPhone=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/[^-0-9]/g,"");t.target.value=n},blur:function(){if(i.initBlur(),i.isEmpty()&&f)return i.showMessage(i.getLabelText()+"을/를 입력해주세요"),!1;i.hideMessage()}})};i.initPrice=function(){var n=[];r.val()!=""?o.removeClass("hidden"):o.addClass("hidden");r.on({input:function(t){n=t.target.value.replace(/\D/g,"").match(/^\d+$/);t.target.value=n?n[0].substring(0,y).replace(/\B(?=(\d{3})+(?!\d))/g,","):""},blur:function(){if(i.initBlur(),i.isEmpty()&&f)return i.showMessage(i.getLabelText()+"을/를 입력해주세요"),!1;i.hideMessage()}})};i.initScore=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/[^0-9\.]/g,"");t.target.value=n},blur:function(){if(i.initBlur(),i.isEmpty()&&f)return i.showMessage(i.getLabelText()+"을/를 입력해주세요"),!1;i.hideMessage()}})};i.initYear=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/\D/g,"").match(/(\d{0,4})/);t.target.value=n[1]},blur:function(){if(i.initBlur(),i.isEmpty()&&f)return i.showMessage(i.getLabelText()+"을/를 입력해주세요"),!1;if(i.isEmpty()||Resume.Utilities.isValidYearMonthDay(r.val()+".01.01")){if($limitYear&&!i.isEmpty()&&r.val().substring(0,4)>$limitYear)return i.showMessage("년도를 확인해주세요."),!1;i.hideMessage()}else return i.showMessage("년도을 확인해주세요."),!1}})};i.initMonth=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/\D/g,"").match(/(\d{0,4})(\d{0,2})/);t.target.value=n[2]?n[1]+(n[2]?"."+n[2]:""):n[1]},blur:function(){i.initBlur();var n=r.val();if(n=n.replace(/\D/g,""),n.length==5&&(n=n.substr(0,4)+"0"+n.substr(4,1),r.val(n),r.trigger("input")),i.isEmpty()&&f)return i.showMessage(i.getLabelText()+"을/를 입력해주세요"),!1;if(!i.isEmpty()&&Resume.Utilities.isMonthRequire(r.val()))return i.showMessage("월도 입력해주세요."),!1;if(i.isEmpty()||Resume.Utilities.isValidYearMonthDay(r.val()+".01")){if($limitYear&&!i.isEmpty()&&r.val().substring(0,4)>$limitYear)return i.showMessage("년도를 확인해주세요."),!1;i.hideMessage()}else return i.showMessage("날짜을 확인해주세요."),!1}})};i.initYearMonthDay=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/\D/g,"").match(/(\d{0,4})(\d{0,2})(\d{0,2})/);t.target.value=n[2]?n[1]+"."+n[2]+(n[3]?"."+n[3]:""):n[1]},blur:function(){if(i.initBlur(),i.isEmpty()&&f)return i.showMessage(i.getLabelText()+"을/를 입력해주세요"),!1;if(i.isEmpty()||Resume.Utilities.isValidDate(r.val())){if($limitYear&&!i.isEmpty()&&r.val().substring(0,4)>$limitYear)return i.showMessage("년도를 확인해주세요."),!1;i.hideMessage()}else return i.showMessage("날짜을 확인해주세요."),!1}})};i.initBirth=function(){var n=[];r.on({input:function(t){n=t.target.value.replace(/\D/g,"").match(/(\d{0,4})(\d{0,2})(\d{0,2})/);t.target.value=n[2]?n[1]+"."+n[2]+(n[3]?"."+n[3]:""):n[1]},blur:function(){if(i.initBlur(),f&&i.isEmpty())return s!=""?i.showMessage(s):i.showMessage(i.getLabelText()+"을 입력해주세요"),!1;if(i.hideMessage(),!i.isEmpty()&&(n.input.length<8||n[2].length<2||n[3].length<2||Number(n[2]<0)||Number(n[2]>12)||Number(n[3]<0)||Number(n[3]>31)))return i.showMessage("생년월일을 확인해주세요."),!1;if(!i.isEmpty()&&n[1]<1920)return i.showMessage("과거에서 오신분이신가요?"),!1;if(!i.isEmpty()&&n[1]>year)return i.showMessage("미래에서 오신분이신가요?"),!1;if(!i.isEmpty()){var t=r.data("max-date").split(".");if(t[0]<n[1]||t[0]==n[1]&&t[1]<n[2]||t[0]==n[1]&&t[1]==n[2]&&t[2]<n[3])return i.showMessage("만 15세 미만은 선택하실 수 없습니다."),!1}}})};i.initEmail=function(){var n=[],t="";r.on({input:function(){},keyup:function(r){r.keyCode===8||r.keyCode===46||r.keyCode===32?(i.hideAutocomplete(),i.emptyEmailBackdrop()):r.keyCode===37||r.keyCode===39||r.keyCode===13?i.setAutocomplete():(t=r.target.value,n=t.split("@"),n.length>1&&n[1]!=""?i.autocompleteEmail(t):(i.emptyEmailBackdrop(),i.hideAutocomplete()))},blur:function(){i.initBlur();r.val()!=""&&r.val().indexOf("@")<0?i.showMessage("이메일 주소를 확인해주세요 "):i.hideMessage()}})};i.setAutocomplete=function(){r.val(emailData.autocomplete);i.emptyEmailBackdrop();i.hideAutocomplete()};i.emptyEmailBackdrop=function(){l.empty()};i.getMatchDomain=function(n){for(var i=[],r=n.split("@")[1],t=0;t<emailData.domains.length;t++)emailData.domains[t].indexOf(r)==0&&i.push(emailData.domains[t]);return i};i.autocompleteEmail=function(t){var e="",o=this.getMatchDomain(t),s=o.length,f,v;if(s>0){var h=t.split("@")[0],a=h+o[0],u=a.substring(t.length-1,a.length);for(emailData.autocomplete=t+u,u=t+"<mark>"+u+"<\/mark>",l.html(u),f=0;f<s;f++)e+='<li><button type="button" class="button"><span>'+h+"@"+o[f]+"<\/span><\/button><\/li>";c.html(e);i.showAutocomplete();v=c.find("button");v.on("click",function(){var t=n(this).find("span").text();r.val(t);i.hideAutocomplete();i.emptyEmailBackdrop()})}else c.html(e),i.hideAutocomplete(),i.emptyEmailBackdrop()};i.isEmpty=function(){return n.trim(r.val())===""&&r.val().length===0?!0:!1};i.showMessage=function(n){if(u.hasClass("is-readonly"))return!1;n=n||"";u.addClass("error");v.removeClass("hidden").attr("aria-hidden","false").text(n)};i.hideMessage=function(){u.removeClass("error");u.find(".validation").addClass("hidden").attr("aria-hidden","true").text("")};i.showAutocomplete=function(){h.removeClass("hidden").attr("aria-hidden","false")};i.hideAutocomplete=function(){h.addClass("hidden").attr("aria-hidden","true")};i.matchAreaCode=function(n){for(var t=0,i=areaCode.length-1;t<i;t++)if(areaCode[t].indexOf(n)>-1)return areaCode[t]};i.matchPhoneCode=function(n){for(var t=0,i=phoneCode.length;t<i;t++)if(phoneCode[t].indexOf(n)>-1)return phoneCode[t]};i.getLabelText=function(){return u.find("label").html()};i.init()};n.fn.Input=function(t){return this.each(function(){if(undefined==n(this).data("Input")){var i=new n.Input(this,t);n(this).data("Input",i)}})}}(jQuery),function(n){n.Dropdown=function(t,i){var r,h;if(!t)return!1;Resume.$allDropdown||(Resume.$allDropdown=n(".dropdown"));r=this;h={};r.settings={};var u=n(t),i=i||{},s=u.children(".buttonChoose"),l=s.children("span"),o=u.children(".list"),e=o.find("li .button"),c=e.length,f={container:u[0],selectedIndex:i.selectedIndex===undefined?-1:i.selectedIndex,selectedText:"",readonly:!1},a=u.find(".label"),v=i.callback||function(){};r.init=function(){var t=this;c>6&&o.addClass("is-scroll");s.off("click");s.on("click",function(){f.readonly==!1&&(u.hasClass("expanded")?t.unsetExpanded():(t.resetDropdown(),Resume.Utilities.unsetExpandedDropdown(),t.setExpanded()))});e.off("click");e.on("click",function(){var r=e.index(n(this)),u=t.getListText(r);t.updateChooseText(u);f.selectedIndex=r;f.selectedText=u;t.unsetExpanded();t.selected();i.callback&&typeof t.$callback=="function"&&$callback(t.$status)});f.selectedIndex>-1&&this.selectedIndex(this.$status.selectedIndex);r.settings=n.extend({},h,i);u.off("focusout");u.on("focusout",function(){u.find(".validation").addClass("hidden");u.removeClass("error")})};r.resetDropdown=function(){for(var n,t=0,i=Resume.$allDropdown.length;t<i;t++)n=Resume.$allDropdown.eq(t),n!=this.$element&&(n.removeClass("expanded"),n.children(".buttonChoose").removeClass("expanded"),n.children(".list").removeClass("visible").addClass("hidden").prop("aria-hidden","true"))};r.getListText=function(n){var i=e.filter(":eq("+n+")"),t=i.find("span").text();return f.selectedText=t,t};r.setExpanded=function(){u.addClass("expanded");o.removeClass("hidden").addClass("visible").prop("aria-hidden","false")};r.unsetExpanded=function(){u.removeClass("expanded");o.removeClass("visible").addClass("hidden").prop("aria-hidden","true")};r.updateChooseText=function(n){l.text(n)};r.selected=function(){a.removeClass("hidden").attr("aria-hidden","false");u.addClass("selected")};r.selectedIndex=function(n,t){if(n===undefined||n>=c)return!1;this.updateChooseText(this.getListText(n));f.selectedIndex=n;this.selected();t&&typeof t=="function"&&t(f)};r.setReadonly=function(){console.log(1);f.readonly=!0};r.unsetReadonly=function(){f.readonly=!1};r.init()};n.fn.Dropdown=function(t){return this.each(function(){if(undefined==n(this).data("Dropdown")){var i=new n.Dropdown(this,t);n(this).data("Dropdown",i)}})}}(jQuery),function(n){var t=n(".fixedMenu");if(t.length<1)return!1;var r=n(window),u=t.offset().top,i=0;r.on("scroll",function(){i=n(this).scrollTop();i>=u?t.addClass("fixed"):t.removeClass("fixed")})}(jQuery),function(n){n.Highlight=function(t,i){var r;if(!t)return!1;r=this;i=i||{};var s=i.callback||function(){},h=n(t),a=h.find(".backdrop"),c=a.find(".highlights"),l=h.find(".clickable"),o=h.find("textarea"),b=h.closest(".form"),f=b.find(".popupCheckSpelling"),k=f.children("i"),v=f.find(".pagination").children(".pager"),y=v.find("strong"),d=v.find(".total"),p=f.find(".buttonPrev"),w=f.find(".buttonNext"),e=1,g=21,nt=115,tt=(navigator.userAgent||"").toLowerCase(),it=!!tt.match(/msie|trident\/7|edge/),u={total:0,pos:[],size:[],text:[]};r.init=function(){this.bindEvents();this.handleInput()};r.applyHighlights=function(n){for(var f,r,u,t=0;t<i.words.length;t++)f=i.words[t];return r=_.uniq(i.words),console.log(r),u=new RegExp(r.join("|"),"gi"),n=n.replace(/\n$/g,"\n\n").replace(u,"<mark>$&<\/mark>"),it&&(n=n.replace(/ /g," <wbr>")),n};r.getPos=function(){var o=c.children("mark"),i,t=0,f="";for(length=o.length,u.total=length;t<length;t++)i=n(o[t]),f=i.text(),u.size[t]=[Math.floor(i.width()),Math.floor(i.height())],u.pos[t]=[Math.floor(i.position().left),Math.floor(i.position().top)],u.text.push(f),l.append('<button type="button" style="left:'+u.pos[t][0]+"px; top:"+u.pos[t][1]+"px; width:"+u.size[t][0]+"px; height:"+u.size[t][1]+'px;" data-init_top="'+u.pos[t][1]+'" data-index="'+t+'">'+f+"<\/button>");l.on("click","button",function(){var t=n(this).data("index");e=t+1;r.setPosPopup()})};r.handleInput=function(){var n=o.val(),t=r.applyHighlights(n);c.html(t);r.getPos();r.popupInit();s&&typeof s=="function"&&s(u)};r.handleScroll=function(){var t=o.scrollTop(),n;a.scrollTop(t);n=o.scrollLeft();a.scrollLeft(n)};r.bindEvents=function(){o.on({input:r.handleInput,scroll:r.handleScroll})};r.unBindEvents=function(){o.off("input scroll")};r.reset=function(){c.empty();l.empty();r.unBindEvents();r.hidePopup()};r.reCheck=function(n){s=n.callback||function(){};i.words=n.words;c.empty();l.empty();r.handleInput()};r.popupInit=function(){if(e=1,y.text("1"),p.off("click"),w.off("click"),u.total>1){p.on("click",function(){r.prev()});w.on("click",function(){r.next()})}r.showPopup();d.text(u.total);r.setPosPopup()};r.showPopup=function(){f.hasClass("hidden")&&f.removeClass("hidden").attr("aria-hidden","false")};r.hidePopup=function(){f.hasClass("hidden")||f.addClass("hidden").attr("aria-hidden","true")};r.next=function(){e++;e>u.total&&(e=1);r.setPosPopup()};r.prev=function(){e--;e<1&&(e=u.total);r.setPosPopup()};r.setPosPopup=function(){r.setHelp(e);y.text();var t=e-1,n=u.pos[t][0]+g,s=u.pos[t][1]+nt,o=u.size[t][0],i=0;n<280?i=o/2-8:(i=n-280+(o/2-8),n=280);k.css("left",i+"px");f.css({left:n+"px",top:s+"px"})};r.setHelp=function(n){n=n-1;var t=i.messages[n],r=i.words[n];f.find(".colHelp .description").html(t);f.find(".recommendation").html(r)};r.init()};n.fn.Highlight=function(t){return this.each(function(){if(undefined==n(this).data("Highlight")){var i=new n.Highlight(this,t);n(this).data("Highlight",i)}})}}(jQuery),function(n,t){n.Checkbox={toggleReadonly:function(n,i){var r=t(n);r.is(":checked")?this.setReadonly(r,i):this.unsetReadonly(r,i)},setReadonly:function(n,i){var e=t(n),r=e.parent(".checkbox"),u,f;i?i.addClass("is-readonly").find("input").attr("readonly","true"):(u=r.siblings(".input"),f=r.siblings(".dropdown"),u.addClass("is-readonly").find("input").attr("readonly","true"),f.each(function(){t(this).addClass("is-readonly").data("Dropdown").setReadonly()}))},unsetReadonly:function(n,i){var e=t(n),r=e.parents(".checkbox"),u,f;i?i.removeClass("is-readonly").find("input").removeAttr("readonly"):(u=r.siblings(".input"),f=r.siblings(".dropdown"),u.removeClass("is-readonly").find("input").removeAttr("readonly"),f.each(function(){t(this).removeClass("is-readonly").data("Dropdown").unsetReadonly()}))}}}(window.Resume=window.Resume||{},jQuery),function(n){n.Textarea=function(t){if(!t)return!1;var i=this,f=n(t),r=f.children("textarea"),u=r.data("maxlength");i.init=function(){i.isEmpty||r.closest(".formCareer").length||r.addClass("is-expanded");i.handleEvent()};i.handleEvent=function(){r.on({focus:i.onFocus,blur:i.onBlur,keyup:i.onKeyup})};i.onFocus=function(){r.closest(".formCareer").length||r.addClass("is-expanded")};i.onBlur=function(){r.removeClass("is-expanded");f.removeClass("error");f.find(".validation").addClass("hidden");i.maxLengthCheck()};i.onKeyup=function(){i.maxLengthCheck()};i.isEmpty=function(){var n=r.val();return n.length<1};i.maxLengthCheck=function(){if(u){var n=r.val().length;r.val().length>u&&(r.val(r.val().substr(0,u)),alert(u+"자 까지 입력가능합니다."))}};i.init()};n.fn.Textarea=function(t){return this.each(function(){if(undefined==n(this).data("Textarea")){var i=new n.Textarea(this,t);n(this).data("Textarea",i)}})}}(jQuery),function(n){n.Tab=function(t,i){if(!t)return!1;i=i||{};var f=this,e=n(t),u=e.find(i.tab),o=e.find(i.panel),r=i.index?i.index-1:0,s=i.callback||function(){};f.init=function(){var t=this;u.on("click",function(){var i=u.index(n(this));if(i===r)return!1;t.onShow(i)});this.onShow(r)};f.onShow=function(n){u.filter(":eq("+r+")").removeClass("selected").attr("aria-selected","false");o.filter(":eq("+r+")").addClass("hidden").attr("aria-hidden","true");u.filter(":eq("+n+")").addClass("selected").attr("aria-selected","true");o.filter(":eq("+n+")").removeClass("hidden").attr("aria-hidden","false");r=n};f.init()};n.fn.Tab=function(t){return this.each(function(){if(undefined==n(this).data("Tab")){var i=new n.Tab(this,t);n(this).data("Tab",i)}})}}(jQuery);var bizJobTypeEnum=bizJobTypeEnum||{user:0,biz:1,job:2},KeywordModel=Backbone.Model.extend({}),LocalCollection=Backbone.Collection.extend({url:"/User/Resume/GetLocalCode"}),WishView=Backbone.View.extend({el:"#formWrapHopework",events:{"click .formHopework #chkWantPayInterview":"toggleReadOnlyClick","click .formHopework .popupHopeworkPlace .col1 button":"localCtgrClick","click .formHopework .popupHopeworkPlace .col2 button":"localClick","click .formHopework .devHopeLocal":"localPopOpenClick","click .formHopework .popupHopeworkPlace .buttonCancel":"localPopCloseClick","click .formHopework .devLocalSelected button":"localSelectCancelClick","click .formHopework .dropdown-hopework-type .buttonConfirm":"jobTypeConfirmlClick","click .formHopework .dropdown-hopework-type .buttonCancel":"jobTypeCancelClick","click .formHopework .dropdown-hopework-type .buttonChoose":"jobTypeSelectPopOpen","click .formHopework .devPartSelected .buttonDelete":"partSelectCancelClick","click .formHopework .devKeywordSelected .buttonDelete":"keywordSelectCancelClick","click .formHopework .devPartSelectedAddBtn":"partSelectPopOpen","click .formHopework .keyword-wrap .devBizTypeKeywordPopup":"keywordSelectBizPopOpen","click .formHopework .keyword-wrap .devJobTypeKeywordPopup":"keywordSelectJobPopOpen","click .formHopework .keyword-wrap .devRemoveBizType":"onClickBizType","click .formHopework .keyword-wrap .devRemoveJobType":"onClickJobType","click .formHopework .keyword-wrap .devRemoveKeyword":"onClickKeyword"},bizTypeView:null,jobTypeView:null,initialize:function(n){_.extend(this,n);this.setJobTypeInputText();this.localCollection.on("sync",this.localCollectionRefresh,this);this.localArea=this.$(".popupHopeworkPlace .col2 ul");this.selectLocalArea=this.$("#hopeLocal .listSelected");this.tpl=_.template($("#tplCommonItem").html());this.tplArea=_.template($("#tplAreaItem").html());this.tplDepth=_.template($("#tplDepthCommonItem").html());Resume.Checkbox.toggleReadonly($("#chkWantPayInterview"),$(".input-hopework-salary"));this.setSelectedPartCnt(this.getSelectedPartCnt());this.setSelectedKeywordCnt(this.getSelectedKeywordCnt());this.bizJobTypeKeywordsElement=[{type:bizJobTypeEnum.biz,$selector:$("#formHopework .keyword-wrap .keyword-list-box-biz, #formHopework .keyword-wrap .keyword-list-box-biz-direct")},{type:bizJobTypeEnum.job,$selector:$("#formHopework .keyword-wrap .keyword-list-box-job, #formHopework .keyword-wrap .keyword-list-box-job-direct")},{type:bizJobTypeEnum.user,$selector:$("#formHopework .keyword-wrap .keyword-list-box-user-direct")}]},setJobTypeInputText:function(){Resume.Utilities.setTextDropdownCheckbox($(".dropdown-hopework-type"))},localCollectionRefresh:function(){var n=this;this.localArea.html("");this.localArea.closest("div").removeClass("is-message");this.localCollection.each(function(t){n.localArea.append(n.tplDepth(t.toJSON()))});$("#localCtgrSelect button").each(function(){var n=$(this).data("value");$("#hopeLocal .listSelected button[data-value='"+n+"']").size()>0&&$(this).addClass("selected")})},localCtgrClick:function(n){var t=$(n.currentTarget),i=t.data("value");$("#localCtgrBeforeSelect").hide();$("#localCtgrSelect").show();$.each(t.parent().parent().find("button"),function(){$(this).hasClass("selected")&&$(this).removeClass("selected")});t.addClass("selected");this.localCtgrSelect(i)},localPopOpenClick:function(){var n=this.$el.find(".popupHopeworkPlace .col1");n.scrollTop(0);n.find("ul li").removeClass("selected");$("#localCtgrSelect").hide();$("#localCtgrBeforeSelect").show()},localPopCloseClick:function(){this.$el.find("#hopeLocal").removeClass("active")},localClick:function(n){var i=$(n.currentTarget),t=i.data("value"),f=i.data("ctgr_value"),u=i.find("span").text(),e=this.selectLocalArea.find("button[data-value='"+t+"']"),o,r;if(e.size()>0)e.remove(),i.removeClass("selected");else{if(t!=f&&(o=$(".popupContainer .col1 button[data-value='"+f+"']").find("span").text(),u=o+">"+u),r=[String(t).substring(0,1)],$.each($(".devLocalSelected").find("button"),function(){$.inArray(String($(this).attr("data-value")).substring(0,1),r)===-1&&r.push(String($(this).attr("data-value")).substring(0,1));String(t).substring(1,4)==="000"?String($(this).attr("data-value")).substring(0,1)===String(t).substring(0,1)&&($(this).remove(),i.removeClass("selected")):$(this).attr("data-value")===String(t).substring(0,1)+"000"&&$(this).remove()}),$.each($("#localCtgrSelect").find("button"),function(){String(t).substring(1,4)==="000"?String($(this).attr("data-value")).substring(0,1)===String(t).substring(0,1)&&$(this).removeClass("selected"):$(this).attr("data-value")===String(t).substring(0,1)+"000"&&$(this).removeClass("selected")}),i.removeClass("selected"),r.length>3)return alert("최대 3개 시도 안에서 자유롭게 선택 가능합니다."),i.removeClass("selected"),!1;i.toggleClass("selected");this.selectLocalArea.append(this.tplArea({code:t,text:u}))}this.syncLocalCode()},localCtgrSelect:function(n){this.localCollection.fetch({data:$.param({localCtgrCode:n})})},toggleReadOnlyClick:function(n){console.log("toggleReadOnlyClick");var t=$(n.currentTarget),i=$(".input-hopework-salary");t.is(":checked")&&Resume.Utilities.clearValueInput(i);Resume.Checkbox.toggleReadonly(t,$(".input-hopework-salary"))},syncLocalCode:function(){var t=this.selectLocalArea.find("button"),n;t.size()>0?(n=[],t.each(function(){n.push($(this).data("value"))}),$("#UserWishWork_AreaCode").val("/"+n.join("/")+"/")):$("#UserWishWork_AreaCode").val("")},syncPartCode:function(){var t=$(".devPartSelected").find("button"),n;t.size()>0?(n=[],t.each(function(){n.push($(this).data("value"))}),$("#UserWishWork_Abn_BizJobtype_Code").val(","+n.join(",")+",")):$("#UserWishWork_Abn_BizJobtype_Code").val("")},syncKeyword:function(){var t=$(".devKeywordSelected").find("button"),n;t.size()>0?(n=[],t.each(function(){n.push($(this).find("span").text())}),$("#UserWishWork_M_Keyword").val(n.join("/"))):$("#UserWishWork_M_Keyword").val("")},localSelectCancelClick:function(n){var t=$(n.currentTarget);t.remove();this.syncLocalCode()},jobTypeConfirmlClick:function(){var t=$(".dropdown-hopework-type"),n;Resume.Utilities.setTextDropdownCheckbox(t);Resume.Utilities.unsetExpandedDropdown(t);n=[];n.push($("#UserWishWork_M_Job_Type_1").is(":checked")?"1":"0");n.push($("#UserWishWork_M_Job_Type_2").is(":checked")?"1":"0");n.push($("#UserWishWork_M_Job_Type_3").is(":checked")?"1":"0");n.push($("#UserWishWork_M_Job_Type_4").is(":checked")?"1":"0");n.push($("#UserWishWork_M_Job_Type_5").is(":checked")?"1":"0");n.push($("#UserWishWork_M_Job_Type_6").is(":checked")?"1":"0");n.push($("#UserWishWork_M_Job_Type_7").is(":checked")?"1":"0");this.$("#UserWishWork_M_Job_Type").val(n.join(""))},jobTypeCancelClick:function(){var n=$(".dropdown-hopework-type");Resume.Utilities.unsetExpandedDropdown(n)},jobTypeSelectPopOpen:function(){var n=$("#UserWishWork_M_Job_Type").val();$("#UserWishWork_M_Job_Type_1").prop("checked",n.substr(0,1)=="1");$("#UserWishWork_M_Job_Type_2").prop("checked",n.substr(1,1)=="1");$("#UserWishWork_M_Job_Type_3").prop("checked",n.substr(2,1)=="1");$("#UserWishWork_M_Job_Type_4").prop("checked",n.substr(3,1)=="1");$("#UserWishWork_M_Job_Type_5").prop("checked",n.substr(4,1)=="1");$("#UserWishWork_M_Job_Type_6").prop("checked",n.substr(5,1)=="1");$("#UserWishWork_M_Job_Type_7").prop("checked",n.substr(6,1)=="1")},partSelectCancelClick:function(n){var t=$(n.currentTarget);t.closest("li").remove();this.syncPartCode();this.setSelectedPartCnt(this.getSelectedPartCnt())},keywordSelectCancelClick:function(n){var u=$(n.currentTarget),i,t,r;u.closest("li").remove();i=$(".listHopework .devKeywordSelected");t=[];i.find("li").each(function(n){t.push({index:n,bizJobTypeCode:$(this).find(".devBizJobType").val(),keywordCode:$(this).find(".devKeywordCode").val(),keywordName:$(this).find(".devKeywordName").val()})});r=_.template($("#tplKeywordBtnItem").html());$(".devKeywordSelected").html("");$.each(t,function(n,t){$(".devKeywordSelected").append(r({code:t.keywordName,text:t.keywordName,index:n,bizJobTypeCode:t.bizJobTypeCode,keywordCode:t.keywordCode,keywordName:t.keywordName}))});this.syncKeyword();this.setSelectedKeywordCnt(this.getSelectedKeywordCnt())},partSelectPopOpen:function(){var n=this.openPop("/Text_User/Resume/GI_Part_Onecue_Pop_New.asp",750,700,"btnSelectPart");n.focus()},keywordSelectBizPopOpen:function(){var n=this;n.bizTypeView.load(n.getBizJobTypeKeywords(bizJobTypeEnum.biz),bizJobTypeEnum.biz)},keywordSelectJobPopOpen:function(){var n=this;n.jobTypeView.load(n.getBizJobTypeKeywords(bizJobTypeEnum.job),bizJobTypeEnum.job)},getSelectedPartCnt:function(){return this.$el.find(".devPartSelected").find("button").size()},setSelectedPartCnt:function(n){this.$el.find(".devSelectPartCnt").html(n)},getSelectedKeywordCnt:function(){return this.$el.find(".devKeywordSelected").find("button").size()},setSelectedKeywordCnt:function(n){this.$el.find(".devSelectKeywordCnt").html(n)},getBizJobTypeElement:function(n){var i=this,t=null;return $.each(i.bizJobTypeKeywordsElement,function(i,r){if(r.type===n)return t=r,!1}),t},getBizJobTypeKeywords:function(n){var i=this,t={bizJobTypes:[],keywords:[]};return $.each(i.bizJobTypeKeywordsElement,function(i,r){if(n==bizJobTypeEnum.biz){if(r.type!=bizJobTypeEnum.biz&&r.type!=bizJobTypeEnum.user)return}else if(n==bizJobTypeEnum.job&&r.type!=bizJobTypeEnum.job)return;r.$selector.find(".keyword-list").each(function(){var i=$(this),n=i.find(".keyword-list-1depth button").data("json");if(n!=null&&n.BizJobtype_Code>0){if(n.BizJobtype_Type_Code!=r.type)return;t.bizJobTypes.push({bizJobtypeTypeCode:n.BizJobtype_Type_Code,bizJobTypeCode:n.BizJobtype_Code,bizJobTypeName:n.BizJobtype_Name,bizJobTypeBCtgrCode:n.BizJobtype_Bctgr_Code});i.children("button.list-btn").each(function(){var u=$(this),i=u.data("json");i!=null&&i.BizJobtype_Type_Code==r.type&&i.BizJobtype_Code==n.BizJobtype_Code&&t.keywords.push({bizJobtypeTypeCode:i.BizJobtype_Type_Code,bizJobTypeCode:i.BizJobtype_Code,keywordCode:i.Kwrd_Code,keywordName:i.Kwrd_Name})})}else i.children("button.list-btn").each(function(){var i=$(this),n=i.data("json");n!=null&&n.BizJobtype_Type_Code==r.type&&n.BizJobtype_Code===0&&t.keywords.push({bizJobtypeTypeCode:n.BizJobtype_Type_Code,bizJobTypeCode:n.BizJobtype_Code,keywordCode:n.Kwrd_Code,keywordName:n.Kwrd_Name})})})}),t},setAbnField:function(){var n=this,i=[],r=[],t=[],u=n.getBizJobTypeKeywords(bizJobTypeEnum.biz),f=n.getBizJobTypeKeywords(bizJobTypeEnum.job);$.each(u.bizJobTypes,function(n,t){i.push(t.bizJobTypeCode)});$.each(u.keywords,function(n,i){var r={BizJobtype_Code:i.bizJobTypeCode,Kwrd_Code:i.keywordCode,Kwrd_Name:i.keywordName,BizJobtype_Type_Code:i.bizJobtypeTypeCode};t.push(r.Kwrd_Name)});$.each(f.bizJobTypes,function(n,t){r.push(t.bizJobTypeCode)});$.each(f.keywords,function(n,i){var r={BizJobtype_Code:i.bizJobTypeCode,Kwrd_Code:i.keywordCode,Kwrd_Name:i.keywordName,BizJobtype_Type_Code:i.bizJobtypeTypeCode};t.push(r.Kwrd_Name)});n.$el.find("#UserWishWork_Abn_BizJobtype_Code").val("");n.$el.find("#UserWishWork_Str_JobTypeCode").val("");n.$el.find("#UserWishWork_M_Keyword").val("");i.length>0&&n.$el.find("#UserWishWork_Abn_BizJobtype_Code").val(",{0},".format(i.join(",")));r.length>0&&n.$el.find("#UserWishWork_Str_JobTypeCode").val(",{0},".format(r.join(",")));t.length>0&&n.$el.find("#UserWishWork_M_Keyword").val(t.join("/"))},setBizJobTypeKeywords:function(n,t){var i=this,u=_.template($("#tplWishWorkBizType").html()),f=_.template($("#tplWishWorkJobType").html()),e=_.template($("#tplWishWorkKeyword").html()),o=_.template($("#tplWishWorkJobKeyword").html()),s=_.template($("#tplWishWorkDirectInputKeywordByBiz").html()),h=_.template($("#tplWishWorkDirectInputKeywordByJob").html()),c=_.template($("#tplWishWorkDirectInputKeyword").html()),r=0,l=0;$.each(i.bizJobTypeKeywordsElement,function(n,i){t==bizJobTypeEnum.biz?i.type==bizJobTypeEnum.biz?(i.$selector.filter(".keyword-list-box-biz").find(".keyword-list").remove(),i.$selector.filter(".keyword-list-box-biz-direct").find(".keyword-list").html("")):i.type==bizJobTypeEnum.user&&i.$selector.find(".keyword-list").html(""):t==bizJobTypeEnum.job&&i.type==bizJobTypeEnum.job&&(i.$selector.filter(".keyword-list-box-job").find(".keyword-list").remove(),i.$selector.filter(".keyword-list-box-job-direct").find(".keyword-list").html(""))});$.each(n.bizJobTypes,function(n,t){var r=i.getBizJobTypeElement(t.bizJobtypeTypeCode);r.type==bizJobTypeEnum.biz?r.$selector.filter(".keyword-list-box-biz").append(u(t)):r.type==bizJobTypeEnum.job&&r.$selector.filter(".keyword-list-box-job").append(f(t))});$.each(n.keywords,function(n,t){var u=i.getBizJobTypeElement(t.bizJobtypeTypeCode);t.bizJobtypeTypeCode==bizJobTypeEnum.biz?(t.index=r++,t.bizJobTypeCode>0?u.$selector.filter(".keyword-list-box-biz").find("[data-json*='\"BizJobtype_Code\":{0}']".format(t.bizJobTypeCode)).closest(".keyword-list").append(e(t)):u.$selector.filter(".keyword-list-box-biz-direct").find(".keyword-list").append(s(t))):t.bizJobtypeTypeCode==bizJobTypeEnum.job?(t.index=r++,t.bizJobTypeCode>0?u.$selector.filter(".keyword-list-box-job").find("[data-json*='\"BizJobtype_Code\":{0}']".format(t.bizJobTypeCode)).closest(".keyword-list").append(o(t)):u.$selector.filter(".keyword-list-box-job-direct").find(".keyword-list").append(h(t))):t.bizJobtypeTypeCode==bizJobTypeEnum.user&&(t.index=l++,u.$selector.find(".keyword-list").append(c(t)))});i.setAbnField()},onClickBizJobType:function(n,t){var u=this,i=$(n.currentTarget),r=t==bizJobTypeEnum.biz?"산업":"직무",f=t==bizJobTypeEnum.biz?"을":"를";i.closest(".keyword-list").find(".list-btn.devRemoveKeyword").length>0?confirm("선택한 대표 "+r+f+" 삭제하면, 하위 "+r+" 키워드도 함께 삭제됩니다.\r\n삭제하겠습니까?")&&i.closest(".keyword-list").remove():i.closest(".keyword-list").remove();u.setAbnField()},onClickBizType:function(n){this.onClickBizJobType(n,bizJobTypeEnum.biz)},onClickJobType:function(n){this.onClickBizJobType(n,bizJobTypeEnum.job)},onClickKeyword:function(n){var t=this,i=$(n.currentTarget);i.remove();t.setAbnField()},openPop:function(n,t,i,r){var u=[],o=!1,f,e;if(r||(r="_blank"),t&&i)return f=80,e=window.screen.availHeight,i>e-f&&(i=e-f,t=t+18,o=!0),u.push("width="+t),u.push("height="+i),u.push("scrollbars="+(o?"1":"0")),window.open(n,r,u.join(","))}}),bizJobTypeEnum=bizJobTypeEnum||{user:0,biz:1,job:2},KeywordModel=Backbone.Model.extend({});window.ResumeForm=window.ResumeForm||{};window.ResumeForm.WishWork=window.ResumeForm.WishWork||{};var BizJobTypeView=Backbone.View.extend({el:"",events:{"click .popupContainer .container .colDuty .listDutyStep1 .button":"onClickBizJobTypeItem","change .devBizJobTypeCheck":"onChangeBizJobTypeCode","click .devBizJobTypeButton":"onClickBizJobTypeCode","change .devKeywordCheck":"onChangeKeywordCode","click .devRemoveBizJobType":"onClickSelectedBizJobType","click .devRemoveKeyword":"onClickSelectedKeyword","click .buttonReset":"onClickResetButton","click .buttonConfirm":"onClickConfirmButton","click .devWishkKeywordResult .button-cancel":"onClickCancelKeywordSearch","click .devWishkKeywordResult .button-select":"onClickSelectKeywordSearch","click .devWishkKeywordResult .button-add-direct":"onClickAddDirect","click .devWishkKeywordResult, .wishKeywordSearchText":"onClickWishkKeywordSearch","keyup .devWishkKeywordResult, .wishKeywordSearchText":"onKeyupKeywordSearchText","change .devWishkKeywordResult .search-list ul li input":"onChangeSelectItem"},maxUserKeyword:5,lastSelectedBizJobType:0,currentBizJobTypeElement:null,parent:null,initialize:function(n){_.extend(this,n);var t=this;$(document).on("click",function(){t.autoComplete.close(t)});this.bizJobTypeElements=[{bizJobType:bizJobTypeEnum.biz,maxTotal:2,maxKeywordPerType:5,$bizJobContainer:$(".popupIndustry .biz-container .listDutyStep1 ul"),$listContainer:$(".popupIndustry .biz-container .listDutyStep2"),$keywordContainer:$(".popupIndustry .biz-container .listKeywordStep3"),$selectedItem:$(".popupIndustry .popupFooter .biz-item .list-step-first"),$bizJobUserKeywordItem:$(".popupIndustry .popupFooter .biz-user-item .direct"),$totalLabel:$(".popupIndustry .biz-container .devBizTypeSelectedCount"),$keywordAutocomplete:$(".popupIndustry #wishBizKeywordAutoComplete"),listEmptyMessage:"<div class='message'>산업을 선택해주세요<\/div>",totalOverMessage:"산업이 {0}개이상 등록되어 있습니다.\n산업 삭제 후, 추가 가능합니다.",keywordOverMessage:"산업당 최대 {0}개까지 선택 가능합니다.",bizJobTypeText:"산업",postfix:"을"},{bizJobType:bizJobTypeEnum.job,maxTotal:4,maxKeywordPerType:5,$bizJobContainer:$(".popupJob .job-container .listDutyStep1 ul"),$listContainer:$(".popupJob .job-container .listDutyStep2"),$keywordContainer:$(".popupJob .job-container .listKeywordStep3"),$selectedItem:$(".popupJob .popupFooter .job-item .list-step-first"),$bizJobUserKeywordItem:$(".popupJob .popupFooter .job-user-item .direct"),$totalLabel:$(".popupJob .job-container .devBizTypeSelectedCount"),$keywordAutocomplete:$(".popupJob #wishJobKeywordAutoComplete"),listEmptyMessage:"<div class='message'>직무를 선택해주세요<\/div>",NoneKeywordMessage:"<div class='message'>전문분야 미제공 직무입니다<\/div>",totalOverMessage:"직무가 {0}개이상 등록되어 있습니다.\n직무 삭제 후, 추가 가능합니다.",keywordOverMessage:"직무당 최대 {0}개까지 선택 가능합니다.",bizJobTypeText:"직무",postfix:"를"}];this.$userKeywordItem=t.$el.find(".user-item .list-step-first .direct");this.currentBizJobTypeElement=this.getBizJobTypeElement(bizJobTypeEnum.biz);this.tplBizJobtype=_.template($("#tplBizJobTypeItem").html());this.tplBizJobtypeKeyword=_.template($("#tplBizJobTypeKeyword").html());this.tplSelectedBizJobType=_.template($("#tplSelectedBizJobType").html());this.tplSelectedBizJobTypeKeyword=_.template($("#tplSelectedBizJobTypeKeyword").html());this.keywordSearchCollection.on("sync",this.autoComplete.bindKeywordSearchResult,this);this.$el.find("[data-comp_type='jkAc']").jkAc2({collection:this.keywordSearchCollection,emptyKeywordMsgShow:!1,timeDelay:100,parentView:t})},getBizJobTypeElement:function(n){var i=this,t=null;return $.each(i.bizJobTypeElements,function(i,r){if(r.bizJobType==n)return t=r,!1}),t},load:function(n,t){var i=this;i.setSelectedItem(n,t);i.onLoadedCallBack&&i.onLoadedCallBack.call(this,n)},loadBizJobType:function(n,t){var r=this,i,u;r.clearKeyword();r.lastSelectedBizJobType=0;i=t?r.getBizJobTypeElement(t):r.currentBizJobTypeElement;i.$listContainer.html("");i.$listContainer.removeClass("is-message").append("<ul>");i.$keywordContainer.addClass("is-message");i.$keywordContainer.html("");i.$keywordContainer.append(i.listEmptyMessage);u=window.ResumeForm.PartCollection.byPartCtgr(n);$(u).each(function(){var n=this.toJSON();i.$listContainer.find("ul").append(r.tplBizJobtype({code:n.Part_Code,text:n.Part_Name,ctgr:n.Part_Ctgr_Code,type:n.Bizjobtype_Type_Code}))});i.$bizJobContainer.find("li button[data-value={0}]".format(n)).addClass("selected");i.$selectedItem.find("li").each(function(){var n=$(this).find("button").data("bizjobtypecode");i.$listContainer.find("[data-bizjobtypecode={0}]".format(n)).prop("checked",!0)})},loadBizJobTypeKeyword:function(n,t,i){var u=this,r=i?u.getBizJobTypeElement(i):u.currentBizJobTypeElement,f;r.$keywordContainer.removeClass("is-message");r.$keywordContainer.html("");f=r.$keywordContainer.append("<ul><\/ul>");r.$listContainer.find("ul li button").removeClass("selected");r.$listContainer.find("ul li button[data-bizjobtypecode={0}]".format(n)).addClass("selected");$.getJSON("/User/Resume/GetKeyword",{partCode:n},function(t){t.length>0?(r.$listContainer.removeClass("empty-list"),$.each(t,function(n,t){f.find("ul").append(u.tplBizJobtypeKeyword({code:t.Key_No,bizJobTypeCode:t.Part_No,text:t.Keyword,bizJobtypeTypeCode:t.Part_Type_Code}))}),r.$selectedItem.find("[data-bizjobtypecode={0}] ul li".format(n)).each(function(){var n=$(this).find("button").data("keywordcode");f.find("[data-keywordcode={0}]".format(n)).prop("checked",!0)})):(r.$listContainer.addClass("empty-list"),r.$keywordContainer.addClass("is-message"),r.$keywordContainer.html(""),r.$keywordContainer.append(r.NoneKeywordMessage))})},getSelectedBizJobtypeTotal:function(n){var t=this,i=t.getBizJobTypeElement(n);return i.$selectedItem.find(".list-item-step-first").length},setSelectedBizJobTypeTotal:function(n,t){var i=this,r=i.getBizJobTypeElement(n);r.$totalLabel.find("em").html(t)},getSelectedUserKeywordTotal:function(){var n=this;return this.currentBizJobTypeElement.$bizJobUserKeywordItem.find("li").length},getKeywordTotalByBizJobType:function(n,t){var i=this,r=i.getBizJobTypeElement(n);return r.$selectedItem.find("[data-bizjobtypecode={0}] .list-keyword li".format(t)).length},hasOwnBizJobType:function(n){var t=this,i=!1;return $.each(t.bizJobTypeElements,function(r,u){if(u.bizJobType==t.currentBizJobTypeElement.bizJobType)return u.$selectedItem.find(".list-item-step-first").find("button[data-bizjobtypecode={0}]".format(n)).length>0?(i=!0,!1):void 0}),i},hasOwnKeyword:function(n,t){var i=this,r=!1;return $.each(i.bizJobTypeElements,function(u,f){if(f.bizJobType==i.currentBizJobTypeElement.bizJobType)return f.$selectedItem.find(".list-keyword li").find("button[data-bizjobtypecode={0}][data-keywordcode={1}]".format(n,t)).length>0?(r=!0,!1):void 0}),r},setCheckedBizJob:function(){var n=this,t=n.getSelectedItem();$.each(this.bizJobTypeElements,function(n,t){t.$bizJobContainer.find("li button").removeClass("checked")});$.each(t.bizJobTypes,function(t,i){$.each(n.bizJobTypeElements,function(n,t){t.$bizJobContainer.find("[data-value={0}]".format(i.bizJobTypeBCtgrCode)).addClass("checked")})})},addBizJobType:function(n){var t=this,i=n.bizJobtypeTypeCode?t.getBizJobTypeElement(n.bizJobtypeTypeCode):t.currentBizJobTypeElement;i.$selectedItem.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).length==0&&(i.$selectedItem.append(t.tplSelectedBizJobType(n)),i.$listContainer.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).prop("checked",!0),t.setSelectedBizJobTypeTotal(i.bizJobType,t.getSelectedBizJobtypeTotal(i.bizJobType)));t.setCheckedBizJob()},removeBizJobType:function(n){var t=this,i=!0;return $.each(this.bizJobTypeElements,function(r,u){u.bizJobType==t.currentBizJobTypeElement.bizJobType&&i&&u.$selectedItem.find("li").find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).length>1&&(i=confirm("선택한 대표 "+u.bizJobTypeText+u.postfix+" 삭제하면, 하위 "+u.bizJobTypeText+" 키워드도 함께 삭제됩니다.\r\n삭제하겠습니까?"))}),i&&($.each(this.bizJobTypeElements,function(i,r){r.bizJobType==t.currentBizJobTypeElement.bizJobType&&(r.$listContainer.find("li").find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).prop("checked",!1),r.$keywordContainer.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).prop("checked",!1),r.$selectedItem.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).remove(),t.setSelectedBizJobTypeTotal(r.bizJobType,t.getSelectedBizJobtypeTotal(r.bizJobType)))}),t.setCheckedBizJob()),i},addKeyword:function(n){var t=this,i=n.bizJobtypeTypeCode?t.getBizJobTypeElement(n.bizJobtypeTypeCode):t.currentBizJobTypeElement;$target=i.$selectedItem.find("[data-bizjobtypecode={0}] ul".format(n.bizJobTypeCode));$target.find("[data-keywordcode={0}]".format(n.keywordCode)).length===0&&($target.append(t.tplSelectedBizJobTypeKeyword(n)),i.$keywordContainer.find("[data-keywordcode={0}]".format(n.keywordCode)).prop("checked",!0))},removeKeyword:function(n){var t=this;$.each(this.bizJobTypeElements,function(i,r){if(r.bizJobType==t.currentBizJobTypeElement.bizJobType){if(n.bizJobTypeCode){var u=r.$keywordContainer.find("[data-bizjobtypecode={0}] ul li".format(n.bizJobTypeCode));u.find("[data-keywordcode={0}]".format(n.keywordCode)).closest("li").remove()}r.$keywordContainer.find("li").find("[data-keywordcode={0}]".format(n.keywordCode)).prop("checked",!1);r.$selectedItem.find("[data-keywordcode={0}]".format(n.keywordCode)).closest("li").remove()}})},clearKeyword:function(){var n=this;this.currentBizJobTypeElement.$keywordContainer.html("")},addUserKeyword:function(n){var t=this;t.$userKeywordItem.find("[data-keywordname='{0}']".format((""+n.keywordName).trim())).length===0&&t.$userKeywordItem.append(t.tplSelectedBizJobTypeKeyword(n))},addBizJobTypeUserKeyword:function(n){var t=this,i=n.bizJobtypeTypeCode?t.getBizJobTypeElement(n.bizJobtypeTypeCode):t.currentBizJobTypeElement;i.$bizJobUserKeywordItem.find("[data-keywordname='{0}']".format((""+n.keywordName).trim())).length===0&&i.$bizJobUserKeywordItem.append(t.tplSelectedBizJobTypeKeyword(n))},resetAll:function(){var n=this;n.lastSelectedBizJobType=0;$.each(this.bizJobTypeElements,function(t,i){i.bizJobType==n.currentBizJobTypeElement.bizJobType&&(i.$bizJobContainer.find("li button").removeClass("selected"),i.$bizJobContainer.find("li button").removeClass("checked"),i.$listContainer.html(""),i.$keywordContainer.html(""),i.$selectedItem.html(""),i.$bizJobUserKeywordItem.html(""),i.$listContainer.addClass("is-message"),i.$listContainer.html(""),i.$listContainer.append(i.listEmptyMessage),i.$keywordContainer.addClass("is-message"),i.$keywordContainer.html(""),i.$keywordContainer.append(i.listEmptyMessage))});n.$userKeywordItem.html("")},getSelectedItem:function(){var t=this,n={bizJobTypes:[],keywords:[]};return $.each(t.bizJobTypeElements,function(i,r){r.bizJobType==t.currentBizJobTypeElement.bizJobType&&(r.$selectedItem.find(".list-item-step-first .recommend").each(function(){n.bizJobTypes.push({bizJobtypeTypeCode:$(this).find("button").data("bizjobtypetypecode"),bizJobTypeBCtgrCode:$(this).find("button").data("bizjobtypctgr"),bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),bizJobTypeName:$(this).find("button").data("name")})}),r.$selectedItem.find(".list-keyword li").each(function(){n.keywords.push({bizJobtypeTypeCode:$(this).find("button").data("bizjobtypetypecode"),bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),keywordCode:$(this).find("button").data("keywordcode"),keywordName:$(this).find("button").data("keywordname")})}),r.$bizJobUserKeywordItem.find("li").each(function(){n.keywords.push({bizJobtypeTypeCode:$(this).find("button").data("bizjobtypetypecode"),bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),keywordCode:$(this).find("button").data("keywordcode"),keywordName:$(this).find("button").data("keywordname")})}))}),t.$userKeywordItem.find("li").each(function(){n.keywords.push({bizJobtypeTypeCode:bizJobTypeEnum.user,bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),keywordCode:$(this).find("button").data("keywordcode"),keywordName:$(this).find("button").data("keywordname")})}),n},setSelectedItem:function(n,t){var i=this,r=null,u=null;t||(t=bizJobTypeEnum.biz);i.resetAll();this.currentBizJobTypeElement=this.getBizJobTypeElement(t);$.each(n.bizJobTypes,function(n,t){t.bizJobtypeTypeCode!=bizJobTypeEnum.biz||r||(r=t);t.bizJobtypeTypeCode!=bizJobTypeEnum.job||u||(u=t)});i.currentBizJobTypeElement.bizJobType==bizJobTypeEnum.biz&&r&&(i.loadBizJobType(r.bizJobTypeBCtgrCode,bizJobTypeEnum.biz),i.loadBizJobTypeKeyword(r.bizJobTypeCode,r.bizJobTypeName,bizJobTypeEnum.biz));i.currentBizJobTypeElement.bizJobType==bizJobTypeEnum.job&&u&&(i.loadBizJobType(u.bizJobTypeBCtgrCode,bizJobTypeEnum.job),i.loadBizJobTypeKeyword(u.bizJobTypeCode,u.bizJobTypeName,bizJobTypeEnum.job));$.each(n.bizJobTypes,function(n,t){i.addBizJobType(t)});$.each(n.keywords,function(n,t){t.bizJobTypeCode?i.addKeyword(t):t.bizJobtypeTypeCode?i.addBizJobTypeUserKeyword(t):i.addUserKeyword(t)});n.bizJobTypes.length==0&&i.setSelectedBizJobTypeTotal(t,i.getSelectedBizJobtypeTotal(t));i.setCheckedBizJob()},autoComplete:{getCheckedItem:function(n){var i=n,t={bizCount:0,jobCount:0,bizJobTypes:[],keywords:[]};return i.$el.find(".devWishkKeywordResult input:checked").each(function(){var n=$(this).data("json"),u=$.grep(t.bizJobTypes,function(t){return t.bizJobTypeCode===n.Part_Code}),r;if(!i.hasOwnBizJobType(n.Part_Code)&&u.length===0){switch(n.BizJobtypeTypeCode){case bizJobTypeEnum.biz:t.bizCount++;break;case bizJobTypeEnum.job:t.jobCount++}t.bizJobTypes.push({bizJobTypeBCtgrCode:n.Part_Ctgr_Code,bizJobTypeCode:n.Part_Code,bizJobTypeName:n.BizJobTypeName,bizJobtypeTypeCode:n.BizJobtypeTypeCode})}n.Key_No!==0&&(r=$.grep(t.keywords,function(t){return t.bizJobTypeCode===n.Part_Code&&t.keywordCode==n.Key_No}),i.hasOwnKeyword(n.Part_Code,n.Key_No)||r.length!==0||t.keywords.push({bizJobTypeCode:n.Part_Code,keywordCode:n.Key_No,keywordName:n.KeywordName,bizJobtypeTypeCode:n.BizJobtypeTypeCode}))}),t},bindKeywordSearchResult:function(){var i=this,n=i.currentBizJobTypeElement.$keywordAutocomplete,t=n.find('[data-comp_type="jkAcInput"]').val(),r=_.template($("#tplKeywordSearchResult").html());n.find(".search-list ul").html("");this.keywordSearchCollection.length>0?this.keywordSearchCollection.each(function(i){n.find(".search-list ul").append(r(_.extend({itemJson:JSON.stringify(i.toJSON()),cid:i.cid},{Highlight_Name:i.get("Result_Text").replace(t,"<em>"+t+"<\/em>")})))}):n.find(".search-list ul").html("<li><button type='button' class='button button-add-direct'><span><strong>"+t+"<\/strong> 추가하기<i class='icon icon-arrow' aria-hidden='true'><\/i><\/span><\/button><\/li>");n.find(".devWishkKeywordResult").removeClass("hidden");n.find(".search-list").removeClass("hidden")},close:function(n){var i=n,t=i.currentBizJobTypeElement.$keywordAutocomplete;t.find('[data-comp_type="jkAcInput"]').val("");t.find(".devWishkKeywordResult").addClass("hidden")},isValidUserKeyword:function(n,t){if(n&&n.getSelectedUserKeywordTotal()>=n.maxUserKeyword)return alert("직접 입력은 최대 {0}개까지 등록 가능합니다.".format(n.maxUserKeyword)),!1;if(t.length>50)return alert("직접입력 키워드는 50자를 넘을 수 없습니다."),!1;return/[\s]/g.test(t)==!0?(alert("직접입력 키워드는 공백이 허용되지 않습니다. "),!1):!0}},onClickBizJobTypeItem:function(n){var t=this;$source=$(n.currentTarget);t.currentBizJobTypeElement.$bizJobContainer.find("li button").removeClass("selected");$source.addClass("selected");bizJobTypeCtgrCode=$source.data("value");t.loadBizJobType(bizJobTypeCtgrCode)},onClickBizJobTypeCode:function(n){var t=this,r=$(n.currentTarget),i=r.data("bizjobtypecode");(t.lastSelectedBizJobType===0||t.lastSelectedBizJobType!==i)&&(t.loadBizJobTypeKeyword(i,$(n.currentTarget).html()),t.lastSelectedBizJobType=i)},onChangeBizJobTypeCode:function(n){var t=this,i=$(n.currentTarget),f=i.is(":checked"),r=i.data("bizjobtypecode"),u,e;if((t.lastSelectedBizJobType===0||t.lastSelectedBizJobType!==r)&&f&&(t.loadBizJobTypeKeyword(r,i.next().html()),t.lastSelectedBizJobType=r),u={bizJobTypeBCtgrCode:i.data("bizjobtypctgr"),bizJobTypeCode:i.data("bizjobtypecode"),bizJobTypeName:i.prev().find("span").html(),bizJobtypeTypeCode:i.data("bizjobtypetypecode")},f){if(t.getSelectedBizJobtypeTotal(t.currentBizJobTypeElement.bizJobType)>=t.currentBizJobTypeElement.maxTotal)return alert(t.currentBizJobTypeElement.totalOverMessage.format(t.currentBizJobTypeElement.maxTotal)),i.prop("checked",!1),!1;t.addBizJobType(u)}else e=t.removeBizJobType(u),e||i.prop("checked",!0)},onChangeKeywordCode:function(n){var t=this,i=$(n.currentTarget),u={bizJobTypeCode:i.data("bizjobtypecode"),keywordCode:i.data("keywordcode"),keywordName:i.next().html(),bizJobtypeTypeCode:i.data("bizjobtypetypecode")},r=t.currentBizJobTypeElement.$listContainer.find("li").find("input[data-bizjobtypecode={0}]".format(u.bizJobTypeCode));if(r.is(":checked")||(r.prop("checked",!0),r.change(),r.is(":checked")||i.prop("checked",!1)),i.is(":checked")&&r.is(":checked")){if(t.getKeywordTotalByBizJobType(t.currentBizJobTypeElement.bizJobType,u.bizJobTypeCode)>=t.currentBizJobTypeElement.maxKeywordPerType)return alert(t.currentBizJobTypeElement.keywordOverMessage.format(t.currentBizJobTypeElement.maxKeywordPerType)),i.prop("checked",!1),!1;t.addKeyword(u)}else t.removeKeyword(u)},onClickSelectedBizJobType:function(n){var i=this,t=$(n.currentTarget),r={bizJobTypeBCtgrCode:t.data("bizjobtypctgr"),bizJobTypeCode:t.data("bizjobtypecode")};i.removeBizJobType(r)},onClickSelectedKeyword:function(n){var i=this,t=$(n.currentTarget);t.closest("li").remove();i.removeKeyword({keywordCode:t.data("keywordcode")})},onClickResetButton:function(){var n=this;n.resetAll();n.setSelectedBizJobTypeTotal(n.currentBizJobTypeElement.bizJobType,0)},onClickConfirmButton:function(){var n=this,i=n.currentBizJobTypeElement,t=n.getSelectedItem(),r=!0;if(n.getSelectedBizJobtypeTotal(n.currentBizJobTypeElement.bizJobType)>n.currentBizJobTypeElement.maxTotal)return alert(n.currentBizJobTypeElement.totalOverMessage.format(n.currentBizJobTypeElement.maxTotal)),!1;if(t.bizJobTypes.length===0&&t.keywords.length>0){alert("하나 이상의 "+i.bizJobTypeText+i.postfix+" 선택해주세요.");return}$.each(t.keywords,function(t,i){if(!n.autoComplete.isValidUserKeyword(null,i.keywordName))return r=!1,!1});r&&(n.onConfirmCallBack.call(n.parent,t,i.bizJobType),n.$el.addClass("hidden"),n.$el.attr("aria-hidden",!0))},onClickCancelKeywordSearch:function(){var n=this;n.autoComplete.close(n)},onClickSelectKeywordSearch:function(){var n=this,t,i;n.$el.find(".devWishkKeywordResult .button-add-direct").length>0?(t=n.$el.find(".devWishkKeywordResult .button-add-direct").find("span strong").html(),n.autoComplete.isValidUserKeyword(n,t)&&(n.addBizJobTypeUserKeyword({keywordCode:0,bizJobTypeCode:0,keywordName:t,bizJobtypeTypeCode:n.currentBizJobTypeElement.bizJobType}),n.autoComplete.close(n))):(i=n.autoComplete.getCheckedItem(n),$.each(i.bizJobTypes,function(t,i){n.addBizJobType(i)}),$.each(i.keywords,function(t,i){n.addKeyword(i)}),n.autoComplete.close(n))},onClickAddDirect:function(n){var t=this,i=$(n.currentTarget).find("span strong").html();t.autoComplete.isValidUserKeyword(t,i)&&(t.addBizJobTypeUserKeyword({keywordCode:0,bizJobTypeCode:0,keywordName:i,bizJobtypeTypeCode:t.currentBizJobTypeElement.bizJobType}),t.autoComplete.close(t))},onKeyupKeywordSearchText:function(n){var t=this;$(n.currentTarget).val()||t.autoComplete.close(t)},onClickWishkKeywordSearch:function(n){n.stopPropagation()},onChangeSelectItem:function(n){var t=this,u=$(n.currentTarget),r,f,o;if(u.is(":checked")){var i=t.autoComplete.getCheckedItem(t),f=_.groupBy(i.keywords,"bizJobTypeCode"),e=t.getBizJobTypeElement(bizJobTypeEnum.biz);if(!(t.getSelectedBizJobtypeTotal(bizJobTypeEnum.biz)>=e.maxTotal&&i.bizCount===0)&&t.getSelectedBizJobtypeTotal(bizJobTypeEnum.biz)+i.bizCount>e.maxTotal)return alert(e.totalOverMessage.format(e.maxTotal)),u.prop("checked",!1),!1;if(r=t.getBizJobTypeElement(bizJobTypeEnum.job),!(t.getSelectedBizJobtypeTotal(bizJobTypeEnum.job)>=r.maxTotal&&i.jobCount===0)&&t.getSelectedBizJobtypeTotal(bizJobTypeEnum.job)+i.jobCount>r.maxTotal)return alert(r.totalOverMessage.format(r.maxTotal)),u.prop("checked",!1),!1;f=_.groupBy(i.keywords,"bizJobTypeCode");for(o in f)if(o!=0){var h=f[o],c=h[0].bizJobtypeTypeCode,s=t.getBizJobTypeElement(c);if(t.getKeywordTotalByBizJobType(c,o)+h.length>s.maxKeywordPerType)return alert(s.keywordOverMessage.format(s.maxKeywordPerType)),u.prop("checked",!1),!1}}}}),bizJobTypeEnum=bizJobTypeEnum||{user:0,biz:1,job:2},KeywordModel=Backbone.Model.extend({}),JobType=Backbone.View.extend({el:"#formJobType",events:{"click .formJobType .keyword-wrap .devJobTypeKeywordPopup":"keywordSelectPopOpen","click .formJobType .keyword-wrap .devRemoveBizJobType":"onClickBizJobType","click .formJobType .keyword-wrap .devRemoveKeyword":"onClickKeyword"},jobTypeView:null,onRemoveBizjobtypeCallBack:null,initialize:function(n){_.extend(this,n);this.tpl=_.template($("#tplCommonItem").html());this.setSelectedPartCnt(this.getSelectedPartCnt());this.setSelectedKeywordCnt(this.getSelectedKeywordCnt());this.bizJobTypeKeywordsElement=[{type:bizJobTypeEnum.job,$selector:$("#formJobType .formJobType .keyword-wrap")},{type:bizJobTypeEnum.user,$selector:$("#formJobType .formJobType .keyword-wrap")}]},syncPartCode:function(){var t=$(".devPartSelected").find("button"),n;t.size()>0?(n=[],t.each(function(){n.push($(this).data("value"))}),$("#UserWishWork_Abn_BizJobtype_Code").val(","+n.join(",")+",")):$("#UserWishWork_Abn_BizJobtype_Code").val("")},syncKeyword:function(){var t=$(".devKeywordSelected").find("button"),n;t.size()>0?(n=[],t.each(function(){n.push($(this).find("span").text())}),$("#UserWishWork_M_Keyword").val(n.join("/"))):$("#UserWishWork_M_Keyword").val("")},partSelectCancelClick:function(n){var t=$(n.currentTarget);t.closest("li").remove();this.syncPartCode();this.setSelectedPartCnt(this.getSelectedPartCnt())},keywordSelectCancelClick:function(n){var u=$(n.currentTarget),i,t,r;u.closest("li").remove();i=$(".listHopework .devKeywordSelected");t=[];i.find("li").each(function(n){t.push({index:n,bizJobTypeCode:$(this).find(".devBizJobType").val(),keywordCode:$(this).find(".devKeywordCode").val(),keywordName:$(this).find(".devKeywordName").val()})});r=_.template($("#tplKeywordBtnItem").html());$(".devKeywordSelected").html("");$.each(t,function(n,t){$(".devKeywordSelected").append(r({code:t.keywordName,text:t.keywordName,index:n,bizJobTypeCode:t.bizJobTypeCode,keywordCode:t.keywordCode,keywordName:t.keywordName}))});this.syncKeyword();this.setSelectedKeywordCnt(this.getSelectedKeywordCnt())},keywordSelectPopOpen:function(n){var t=this;$source=$(n.currentTarget);t.jobTypeView.load(t.getBizJobTypeKeywords(),bizJobTypeEnum.job)},getSelectedPartCnt:function(){return this.$el.find(".devPartSelected").find("button").size()},setSelectedPartCnt:function(n){this.$el.find(".devSelectPartCnt").html(n)},getSelectedKeywordCnt:function(){return this.$el.find(".devKeywordSelected").find("button").size()},setSelectedKeywordCnt:function(n){this.$el.find(".devSelectKeywordCnt").html(n)},getBizJobTypeElement:function(n){var i=this,t=null;return $.each(i.bizJobTypeKeywordsElement,function(i,r){if(r.type===n)return t=r,!1}),t},getBizJobTypeKeywords:function(){var t=this,n={bizJobTypes:[],keywords:[]};return $.each(t.bizJobTypeKeywordsElement,function(t,i){i.type?i.$selector.find(".keyword-list").each(function(){var i=$(this),t=i.find(".keyword-list-1depth button").data("json");t?(n.bizJobTypes.push({bizJobtypeTypeCode:t.BizJobtype_Type_Code,bizJobTypeCode:t.BizJobtype_Code,bizJobTypeName:t.BizJobtype_Name,bizJobTypeBCtgrCode:t.BizJobtype_Bctgr_Code}),i.children("button.list-btn").each(function(){var i=$(this),t=i.data("json");n.keywords.push({bizJobtypeTypeCode:t.BizJobtype_Type_Code,bizJobTypeCode:t.BizJobtype_Code,keywordCode:t.Kwrd_Code,keywordName:t.Kwrd_Name})})):i.children("button.list-btn").each(function(){var i=$(this),t=i.data("json");n.keywords.push({bizJobtypeTypeCode:t.BizJobtype_Type_Code,bizJobTypeCode:t.BizJobtype_Code,keywordCode:t.Kwrd_Code,keywordName:t.Kwrd_Name})})}):i.$selector.find("li").each(function(){var i=$(this),t=i.find("button").data("json");n.keywords.push({bizJobtypeTypeCode:t.BizJobtype_Type_Code,bizJobTypeCode:t.BizJobtype_Code,keywordCode:t.Kwrd_Code,keywordName:t.Kwrd_Name})})}),n},setAbnField:function(n){var r=this,t=[],i=[];$.each(n.bizJobTypes,function(n,i){t.push(i.bizJobTypeCode)});$.each(n.keywords,function(n,t){i.push({BizJobtype_Code:t.bizJobTypeCode,Kwrd_Code:t.keywordCode,Kwrd_Name:t.keywordName,BizJobtype_Type_Code:t.bizJobtypeTypeCode})});$("#UserWishWork_Str_JobTypeCode").val("");t.length>0&&$("#UserWishWork_Str_JobTypeCode").val(",{0},".format(t.join(",")))},setBizJobTypeKeywords:function(n){var t=this,u=_.template($("#tplJobType").html()),r=_.template($("#tplJobKeyword").html()),f=_.template($("#tplWishWorkDirectInputKeywordByJob").html()),i=[],e=[],o=0;$.each(t.bizJobTypeKeywordsElement,function(n,t){t.$selector.find(".keyword-list").remove()});$.each(n.bizJobTypes,function(n,r){var f=t.getBizJobTypeElement(r.bizJobtypeTypeCode);r.itemJson=JSON.stringify({BizJobtype_Type_Code:r.bizJobtypeTypeCode,BizJobtype_Code:r.bizJobTypeCode,BizJobtype_Name:r.bizJobTypeName,BizJobtype_Bctgr_Code:r.bizJobTypeBCtgrCode});f.$selector.append(u(r));i.push(r.bizJobTypeCode)});$.each(n.keywords,function(n,i){var u=t.getBizJobTypeElement(i.bizJobtypeTypeCode),s={BizJobtype_Type_Code:i.bizJobtypeTypeCode,BizJobtype_Code:i.bizJobTypeCode,Kwrd_Code:i.keywordCode,Kwrd_Name:i.keywordName};i.itemJson=JSON.stringify(s);i.bizJobtypeTypeCode===bizJobTypeEnum.job?(i.index=o++,i.bizJobTypeCode>0?u.$selector.find("[data-json*='\"BizJobtype_Code\":{0}']".format(i.bizJobTypeCode)).closest(".keyword-list").append(r(i)):(u.$selector.find(".keyword-list-direct").length==0&&u.$selector.append('<div class="keyword-list keyword-list-direct"><\/div>'),u.$selector.find(".keyword-list-direct").append(f(i)))):i.bizJobtypeTypeCode===bizJobTypeEnum.user&&u.$selector.append(r(i));e.push(s.Kwrd_Name)});$("#UserWishWork_Str_JobTypeCode").val("");i.length>0&&$("#UserWishWork_Str_JobTypeCode").val(",{0},".format(i.join(",")))},onClickBizJobType:function(n){var t=this,i=$(n.currentTarget);i.closest(".keyword-list").find(".list-btn.devRemoveKeyword").length>0?confirm("선택한 대표 직무를 삭제하면, 하위 직무 전문분야도 함께 삭제됩니다.\r\n삭제하겠습니까?")&&i.closest(".keyword-list").remove():i.closest(".keyword-list").remove();t.setAbnField(t.getBizJobTypeKeywords());t.onRemoveBizjobtypeCallBack&&t.onRemoveBizjobtypeCallBack.call(this)},onClickKeyword:function(n){var t=this,i=$(n.currentTarget);i.remove();t.setAbnField(t.getBizJobTypeKeywords())}}),bizJobTypeEnum=bizJobTypeEnum||{user:0,biz:1,job:2},KeywordModel=Backbone.Model.extend({});window.ResumeForm=window.ResumeForm||{};window.ResumeForm.WishWork=window.ResumeForm.WishWork||{};JobTypeView=Backbone.View.extend({el:"#jobtypeSelectPop",events:{"click .popupContainer .job-container .colDuty .listDutyStep1 .button":"onClickBizJobTypeItem","change .devBizJobTypeCheck":"onChangeBizJobTypeCode","click .devBizJobTypeButton":"onClickBizJobTypeCode","change .devKeywordCheck":"onChangeKeywordCode","click .devRemoveBizJobType":"onClickSelectedBizJobType","click .devRemoveKeyword":"onClickSelectedKeyword","click .buttonReset":"onClickResetButton","click .buttonConfirm":"onClickConfirmButton","click .devJobKeywordResult .button-cancel":"onClickCancelKeywordSearch","click .devJobKeywordResult .button-select":"onClickSelectKeywordSearch","click .devJobKeywordResult .button-add-direct":"onClickAddDirect","click .devJobKeywordResult, #jobKeywordSearchText":"onClickWishkKeywordSearch","keyup .devJobKeywordResult, #jobKeywordSearchText":"onKeyupKeywordSearchText","change .devJobKeywordResult .search-list ul li input":"onChangeSelectItem"},maxUserKeyword:5,lastSelectedBizJobType:0,currentBizJobTypeElement:null,parent:null,initialize:function(n){_.extend(this,n);var t=this;$(document).on("click",function(){t.autoComplete.close(t)});this.bizJobTypeElements=[{bizJobType:bizJobTypeEnum.job,maxTotal:4,maxKeywordPerType:5,$bizJobContainer:$(".popupJob .job-container .listDutyStep1 ul"),$listContainer:$(".popupJob .job-container .listDutyStep2"),$keywordContainer:$(".popupJob .job-container .listKeywordStep3"),$selectedItem:$(".popupJob .popupFooter .job-item .list-step-first"),$bizJobUserKeywordItem:$(".popupJob .popupFooter .job-user-item .direct"),$totalLabel:$(".popupJob .job-container .devJobTypeSelectedCount"),listEmptyMessage:"<div class='message'>직무를 선택해주세요<\/div>",NoneKeywordMessage:"<div class='message'>전문분야 미제공 직무입니다<\/div>",totalOverMessage:"직무가 {0}개이상 등록되어 있습니다.\n직무 삭제 후, 추가 가능합니다.",keywordOverMessage:"직무당 최대 {0}개까지 선택 가능합니다."}];this.$userKeywordItem=t.$el.find(".user-item .list-step-first .direct");this.currentBizJobTypeElement=this.getBizJobTypeElement(bizJobTypeEnum.job);this.tplBizJobtype=_.template($("#tplJobTypeItem").html());this.tplBizJobtypeKeyword=_.template($("#tplJobTypeKeyword").html());this.tplSelectedBizJobType=_.template($("#tplSelectedJobType").html());this.tplSelectedBizJobTypeKeyword=_.template($("#tplSelectedJobTypeKeyword").html());this.keywordSearchCollection.on("sync",this.autoComplete.bindKeywordSearchResult,this);this.$el.find("[data-comp_type='jkAc']").jkAc2({collection:this.keywordSearchCollection,emptyKeywordMsgShow:!1,timeDelay:100,parentView:t})},getBizJobTypeElement:function(n){var i=this,t=null;return $.each(i.bizJobTypeElements,function(i,r){if(r.bizJobType==n)return t=r,!1}),t},load:function(n,t){var i=this;i.setSelectedItem(n,t);i.onLoadedCallBack&&i.onLoadedCallBack.call(this,n)},loadBizJobType:function(n,t){var r=this,i,u;r.clearKeyword();r.lastSelectedBizJobType=0;i=t?r.getBizJobTypeElement(t):r.currentBizJobTypeElement;i.$listContainer.html("");i.$listContainer.removeClass("is-message").append("<ul>");i.$keywordContainer.addClass("is-message");i.$keywordContainer.html("");i.$keywordContainer.append(i.listEmptyMessage);u=window.ResumeForm.PartCollection.byPartCtgr(n);$(u).each(function(){var n=this.toJSON();i.$listContainer.find("ul").append(r.tplBizJobtype({code:n.Part_Code,text:n.Part_Name,ctgr:n.Part_Ctgr_Code}))});i.$bizJobContainer.find("li button[data-value={0}]".format(n)).addClass("selected");i.$selectedItem.find("li").each(function(){var n=$(this).find("button").data("bizjobtypecode");i.$listContainer.find("[data-bizjobtypecode={0}]".format(n)).prop("checked",!0)})},loadBizJobTypeKeyword:function(n,t,i){var u=this,r=i?u.getBizJobTypeElement(i):u.currentBizJobTypeElement,f;r.$keywordContainer.removeClass("is-message");r.$keywordContainer.html("");f=r.$keywordContainer.append("<ul><\/ul>");r.$listContainer.find("ul li button").removeClass("selected");r.$listContainer.find("ul li button[data-bizjobtypecode={0}]".format(n)).addClass("selected");$.getJSON("/User/Resume/GetKeyword",{partCode:n},function(t){t.length>0?(r.$listContainer.removeClass("empty-list"),$.each(t,function(n,t){f.find("ul").append(u.tplBizJobtypeKeyword({code:t.Key_No,bizJobTypeCode:t.Part_No,text:t.Keyword,bizJobtypeTypeCode:t.Part_Type_Code}))}),r.$selectedItem.find("[data-bizjobtypecode={0}] ul li".format(n)).each(function(){var n=$(this).find("button").data("keywordcode");f.find("[data-keywordcode={0}]".format(n)).prop("checked",!0)})):(r.$listContainer.addClass("empty-list"),r.$keywordContainer.addClass("is-message"),r.$keywordContainer.html(""),r.$keywordContainer.append(r.NoneKeywordMessage))})},getSelectedBizJobtypeTotal:function(n){var t=this,i=t.getBizJobTypeElement(n);return i.$selectedItem.find(".list-item-step-first").length},setSelectedBizJobTypeTotal:function(n,t){var i=this,r=i.getBizJobTypeElement(n);r.$totalLabel.find("em").html(t)},getSelectedUserKeywordTotal:function(){var n=this;return this.currentBizJobTypeElement.$bizJobUserKeywordItem.find("li").length},getKeywordTotalByBizJobType:function(n,t){var i=this,r=i.getBizJobTypeElement(n);return r.$selectedItem.find("[data-bizjobtypecode={0}] .list-keyword li".format(t)).length},hasOwnBizJobType:function(n){var i=this,t=!1;return $.each(i.bizJobTypeElements,function(i,r){if(r.$selectedItem.find(".list-item-step-first").find("button[data-bizjobtypecode={0}]".format(n)).length>0)return t=!0,!1}),t},hasOwnKeyword:function(n,t){var r=this,i=!1;return $.each(r.bizJobTypeElements,function(r,u){if(u.$selectedItem.find(".list-keyword li").find("button[data-bizjobtypecode={0}][data-keywordcode={1}]".format(n,t)).length>0)return i=!0,!1}),i},setCheckedBizJob:function(){var n=this,t=n.getSelectedItem();$.each(this.bizJobTypeElements,function(n,t){t.$bizJobContainer.find("li button").removeClass("checked")});$.each(t.bizJobTypes,function(t,i){$.each(n.bizJobTypeElements,function(n,t){t.$bizJobContainer.find("[data-value={0}]".format(i.bizJobTypeBCtgrCode)).addClass("checked")})})},addBizJobType:function(n){var t=this,i=n.bizJobtypeTypeCode?t.getBizJobTypeElement(n.bizJobtypeTypeCode):t.currentBizJobTypeElement;i.$selectedItem.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).length==0&&(i.$selectedItem.append(t.tplSelectedBizJobType(n)),i.$listContainer.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).prop("checked",!0),t.setSelectedBizJobTypeTotal(i.bizJobType,t.getSelectedBizJobtypeTotal(i.bizJobType)));t.setCheckedBizJob()},removeBizJobType:function(n){var i=this,t=!0;return $.each(this.bizJobTypeElements,function(i,r){t&&r.$selectedItem.find("li").find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).length>1&&(t=confirm("선택한 대표 직무를 삭제하면, 하위 직무 전문분야도 함께 삭제됩니다.\r\n삭제하겠습니까?"))}),t&&($.each(this.bizJobTypeElements,function(t,r){r.$listContainer.find("li").find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).prop("checked",!1);r.$keywordContainer.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).prop("checked",!1);r.$selectedItem.find("[data-bizjobtypecode={0}]".format(n.bizJobTypeCode)).remove();i.setSelectedBizJobTypeTotal(r.bizJobType,i.getSelectedBizJobtypeTotal(r.bizJobType))}),i.setCheckedBizJob()),t},addKeyword:function(n){var t=this,i=n.bizJobtypeTypeCode?t.getBizJobTypeElement(n.bizJobtypeTypeCode):t.currentBizJobTypeElement;$target=i.$selectedItem.find("[data-bizjobtypecode={0}] ul".format(n.bizJobTypeCode));$target.find("[data-keywordcode={0}]".format(n.keywordCode)).length===0&&($target.append(t.tplSelectedBizJobTypeKeyword(n)),i.$keywordContainer.find("[data-keywordcode={0}]".format(n.keywordCode)).prop("checked",!0))},removeKeyword:function(n){var t=this;$.each(this.bizJobTypeElements,function(t,i){if(n.bizJobTypeCode){var r=i.$keywordContainer.find("[data-bizjobtypecode={0}] ul li".format(n.bizJobTypeCode));r.find("[data-keywordcode={0}]".format(n.keywordCode)).closest("li").remove()}i.$keywordContainer.find("li").find("[data-keywordcode={0}]".format(n.keywordCode)).prop("checked",!1);i.$selectedItem.find("[data-keywordcode={0}]".format(n.keywordCode)).closest("li").remove()})},clearKeyword:function(){var n=this;this.currentBizJobTypeElement.$keywordContainer.html("")},addUserKeyword:function(n){var t=this;$(".popupFooter .user-item .direct").find("[data-keywordname='{0}']".format((""+n.keywordName).trim())).length===0&&$(".popupFooter .user-item .direct").append(t.tplSelectedBizJobTypeKeyword(n))},addBizJobTypeUserKeyword:function(n){var t=this,i=n.bizJobtypeTypeCode?t.getBizJobTypeElement(n.bizJobtypeTypeCode):t.currentBizJobTypeElement;i.$bizJobUserKeywordItem.find("[data-keywordname='{0}']".format((""+n.keywordName).trim())).length===0&&i.$bizJobUserKeywordItem.append(t.tplSelectedBizJobTypeKeyword(n))},resetAll:function(){var n=this;n.lastSelectedBizJobType=0;$.each(this.bizJobTypeElements,function(n,t){t.$bizJobContainer.find("li button").removeClass("selected");t.$bizJobContainer.find("li button").removeClass("checked");t.$listContainer.html("");t.$keywordContainer.html("");t.$selectedItem.html("");t.$bizJobUserKeywordItem.html("");t.$listContainer.addClass("is-message");t.$listContainer.html("");t.$listContainer.append(t.listEmptyMessage);t.$keywordContainer.addClass("is-message");t.$keywordContainer.html("");t.$keywordContainer.append(t.listEmptyMessage)});$(".popupFooter .user-item .direct").html("")},getSelectedItem:function(){var t=this,n={bizJobTypes:[],keywords:[]};return $.each(t.bizJobTypeElements,function(t,i){i.$selectedItem.find(".list-item-step-first .recommend").each(function(){n.bizJobTypes.push({bizJobtypeTypeCode:i.bizJobType,bizJobTypeBCtgrCode:$(this).find("button").data("bizjobtypctgr"),bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),bizJobTypeName:$(this).find("button").data("name")})});i.$selectedItem.find(".list-keyword li").each(function(){n.keywords.push({bizJobtypeTypeCode:i.bizJobType,bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),keywordCode:$(this).find("button").data("keywordcode"),keywordName:$(this).find("button").data("keywordname")})});i.$bizJobUserKeywordItem.find("li").each(function(){n.keywords.push({bizJobtypeTypeCode:$(this).find("button").data("bizjobtypetypecode"),bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),keywordCode:$(this).find("button").data("keywordcode"),keywordName:$(this).find("button").data("keywordname")})})}),t.$userKeywordItem.find("li").each(function(){n.keywords.push({bizJobtypeTypeCode:bizJobTypeEnum.user,bizJobTypeCode:$(this).find("button").data("bizjobtypecode"),keywordCode:$(this).find("button").data("keywordcode"),keywordName:$(this).find("button").data("keywordname")})}),n},setSelectedItem:function(n,t){var i=this,r=null;t||(t=bizJobTypeEnum.job);i.resetAll();this.currentBizJobTypeElement=this.getBizJobTypeElement(t);$.each(n.bizJobTypes,function(n,t){t.bizJobtypeTypeCode!=bizJobTypeEnum.job||r||(r=t)});r&&(i.loadBizJobType(r.bizJobTypeBCtgrCode,bizJobTypeEnum.job),i.loadBizJobTypeKeyword(r.bizJobTypeCode,r.bizJobTypeName,bizJobTypeEnum.job));$.each(n.bizJobTypes,function(n,t){i.addBizJobType(t)});$.each(n.keywords,function(n,t){t.bizJobTypeCode?i.addKeyword(t):t.bizJobtypeTypeCode?i.addBizJobTypeUserKeyword(t):i.addUserKeyword(t)});n.bizJobTypes.length==0&&i.setSelectedBizJobTypeTotal(t,i.getSelectedBizJobtypeTotal(t));i.setCheckedBizJob()},autoComplete:{getCheckedItem:function(n){var i=n,t={bizCount:0,jobCount:0,bizJobTypes:[],keywords:[]};return i.$el.find(".devJobKeywordResult input:checked").each(function(){var n=$(this).data("json"),u=$.grep(t.bizJobTypes,function(t){return t.bizJobTypeCode===n.Part_Code}),r;if(!i.hasOwnBizJobType(n.Part_Code)&&u.length===0){switch(n.BizJobtypeTypeCode){case bizJobTypeEnum.job:t.jobCount++}t.bizJobTypes.push({bizJobTypeBCtgrCode:n.Part_Ctgr_Code,bizJobTypeCode:n.Part_Code,bizJobTypeName:n.BizJobTypeName,bizJobtypeTypeCode:n.BizJobtypeTypeCode})}n.Key_No!==0&&(r=$.grep(t.keywords,function(t){return t.bizJobTypeCode===n.Part_Code&&t.keywordCode==n.Key_No}),i.hasOwnKeyword(n.Part_Code,n.Key_No)||r.length!==0||t.keywords.push({bizJobTypeCode:n.Part_Code,keywordCode:n.Key_No,keywordName:n.KeywordName,bizJobtypeTypeCode:n.BizJobtypeTypeCode}))}),t},bindKeywordSearchResult:function(){var t=$("#jobKeywordAutoComplete"),n=$("#jobKeywordAutoComplete").find('[data-comp_type="jkAcInput"]').val(),i=_.template($("#tplJobKeywordSearchResult").html());t.find(".search-list ul").html("");this.keywordSearchCollection.length>0?this.keywordSearchCollection.each(function(r){t.find(".search-list ul").append(i(_.extend({itemJson:JSON.stringify(r.toJSON()),cid:r.cid},{Highlight_Name:r.get("Result_Text").replace(n,"<em>"+n+"<\/em>")})))}):this.$el.find(".search-list ul").html("<li><button type='button' class='button button-add-direct'><span><strong>"+n+"<\/strong> 추가하기<i class='icon icon-arrow' aria-hidden='true'><\/i><\/span><\/button><\/li>");this.$el.find(".devJobKeywordResult").removeClass("hidden");this.$el.find(".search-list").removeClass("hidden")},close:function(n){var t=n;t.$el.find("#jobKeywordAutoComplete").find('[data-comp_type="jkAcInput"]').val("");t.$el.find(".devJobKeywordResult").addClass("hidden")},isValidUserKeyword:function(n,t){if(n&&n.getSelectedUserKeywordTotal()>=n.maxUserKeyword)return alert("직접 입력은 최대 {0}개까지 등록 가능합니다.".format(n.maxUserKeyword)),!1;if(t.length>50)return alert("직접입력 키워드는 50자를 넘을 수 없습니다."),!1;return/[\s]/g.test(t)==!0?(alert("직접 입력 키워드는 공백이 허용되지 않습니다. "),!1):!0}},onClickBizJobTypeItem:function(n){var t=this;$source=$(n.currentTarget);t.currentBizJobTypeElement.$bizJobContainer.find("li button").removeClass("selected");$source.addClass("selected");bizJobTypeCtgrCode=$source.data("value");t.loadBizJobType(bizJobTypeCtgrCode)},onClickBizJobTypeCode:function(n){var t=this,r=$(n.currentTarget),i=r.data("bizjobtypecode");(t.lastSelectedBizJobType===0||t.lastSelectedBizJobType!==i)&&(t.loadBizJobTypeKeyword(i,$(n.currentTarget).html()),t.lastSelectedBizJobType=i)},onChangeBizJobTypeCode:function(n){var t=this,i=$(n.currentTarget),f=i.is(":checked"),r=i.data("bizjobtypecode"),u,e;if((t.lastSelectedBizJobType===0||t.lastSelectedBizJobType!==r)&&f&&(t.loadBizJobTypeKeyword(r,i.next().html()),t.lastSelectedBizJobType=r),u={bizJobTypeBCtgrCode:i.data("bizjobtypctgr"),bizJobTypeCode:i.data("bizjobtypecode"),bizJobTypeName:i.prev().find("span").html()},f){if(t.getSelectedBizJobtypeTotal(t.currentBizJobTypeElement.bizJobType)>=t.currentBizJobTypeElement.maxTotal)return alert(t.currentBizJobTypeElement.totalOverMessage.format(t.currentBizJobTypeElement.maxTotal)),i.prop("checked",!1),!1;t.addBizJobType(u)}else e=t.removeBizJobType(u),e||i.prop("checked",!0)},onChangeKeywordCode:function(n){var t=this,i=$(n.currentTarget),u={bizJobTypeCode:i.data("bizjobtypecode"),keywordCode:i.data("keywordcode"),keywordName:i.next().html(),bizJobtypeTypeCode:i.data("bizjobtypetypecode")},r=t.currentBizJobTypeElement.$listContainer.find("li").find("input[data-bizjobtypecode={0}]".format(u.bizJobTypeCode));if(r.is(":checked")||(r.prop("checked",!0),r.change(),r.is(":checked")||i.prop("checked",!1)),i.is(":checked")&&r.is(":checked")){if(t.getKeywordTotalByBizJobType(t.currentBizJobTypeElement.bizJobType,u.bizJobTypeCode)>=t.currentBizJobTypeElement.maxKeywordPerType)return alert(t.currentBizJobTypeElement.keywordOverMessage.format(t.currentBizJobTypeElement.maxKeywordPerType)),i.prop("checked",!1),!1;t.addKeyword(u)}else t.removeKeyword(u)},onClickSelectedBizJobType:function(n){var i=this,t=$(n.currentTarget),r={bizJobTypeBCtgrCode:t.data("bizjobtypctgr"),bizJobTypeCode:t.data("bizjobtypecode")};i.removeBizJobType(r)},onClickSelectedKeyword:function(n){var i=this,t=$(n.currentTarget);t.closest("li").remove();i.removeKeyword({keywordCode:t.data("keywordcode")})},onClickResetButton:function(){var n=this;n.resetAll();n.setSelectedBizJobTypeTotal(n.currentBizJobTypeElement.bizJobType,0)},onClickConfirmButton:function(){var n=this,t=n.getSelectedItem(),i=!0;if(t.bizJobTypes.length===0&&t.keywords.length>0){alert("하나 이상의 직무를 선택해주세요.");return}if(n.getSelectedBizJobtypeTotal(n.currentBizJobTypeElement.bizJobType)>n.currentBizJobTypeElement.maxTotal)return alert(n.currentBizJobTypeElement.totalOverMessage.format(n.currentBizJobTypeElement.maxTotal)),!1;$.each(t.keywords,function(t,r){if(!n.autoComplete.isValidUserKeyword(null,r.keywordName))return i=!1,!1});i&&(n.onConfirmCallBack.call(n.parent,t),$("#jobtypeSelectPop").addClass("hidden"),$("#jobtypeSelectPop").attr("aria-hidden",!0))},onClickCancelKeywordSearch:function(){var n=this;n.autoComplete.close(n)},onClickSelectKeywordSearch:function(){var n=this,t,i;n.$el.find(".devJobKeywordResult .button-add-direct").length>0?(t=n.$el.find(".devJobKeywordResult .button-add-direct").find("span strong").html(),n.autoComplete.isValidUserKeyword(n,t)&&(n.addBizJobTypeUserKeyword({keywordCode:0,bizJobTypeCode:0,keywordName:t,bizJobtypeTypeCode:n.currentBizJobTypeElement.bizJobType}),n.autoComplete.close(n))):(i=n.autoComplete.getCheckedItem(n),$.each(i.bizJobTypes,function(t,i){n.addBizJobType(i)}),$.each(i.keywords,function(t,i){n.addKeyword(i)}),n.autoComplete.close(n))},onClickAddDirect:function(n){var t=this,i=$(n.currentTarget).find("span strong").html();t.autoComplete.isValidUserKeyword(t,i)&&(t.addBizJobTypeUserKeyword({keywordCode:0,bizJobTypeCode:0,keywordName:i,bizJobtypeTypeCode:t.currentBizJobTypeElement.bizJobType}),t.autoComplete.close(t))},onKeyupKeywordSearchText:function(n){var t=this;$(n.currentTarget).val()||t.autoComplete.close(t)},onClickWishkKeywordSearch:function(n){n.stopPropagation()},onChangeSelectItem:function(n){var t=this,e=$(n.currentTarget),r,f;if(e.is(":checked")){var i=t.autoComplete.getCheckedItem(t),r=_.groupBy(i.keywords,"bizJobTypeCode"),u=t.getBizJobTypeElement(bizJobTypeEnum.job);if(!(t.getSelectedBizJobtypeTotal(bizJobTypeEnum.job)>=u.maxTotal&&i.jobCount===0)&&t.getSelectedBizJobtypeTotal(bizJobTypeEnum.job)+i.jobCount>u.maxTotal)return alert(u.totalOverMessage.format(u.maxTotal)),e.prop("checked",!1),!1;r=_.groupBy(i.keywords,"bizJobTypeCode");for(f in r)if(f!=0){var s=r[f],h=s[0].bizJobtypeTypeCode,o=t.getBizJobTypeElement(h);if(t.getKeywordTotalByBizJobType(h,f)+s.length>o.maxKeywordPerType)return alert(o.keywordOverMessage.format(o.maxKeywordPerType)),e.prop("checked",!1),!1}}}});FileContentChecker=function(n){function s(){var i=t.domainIncludeUrl.match(e),n;i.length&&(n=i[0],r=n.indexOf(o.user)>-1?n+u.user:n+u.company,r.lastIndexOf("https")<0&&(r=r.replace("http","https")))}function f(n){var t=n;t.Result||a(t)}function h(){var n=new FormData;n.append("files",t.$fileElement[0].files[0]);i.type="POST";i.url=r;i.data=n;i.mimeType="multipart/form-data";i.processData=!1;i.contentType=!1;i.dataType="json";$.ajax(i)}function c(n){$.extend(t,n);t.domainIncludeUrl&&s();typeof t.onShowLoading=="function"&&(i.beforeSend=t.onShowLoading);typeof t.onHideLoading=="function"&&(i.complete=t.onHideLoading);t.$messageElement||(t.$messageElement=$(".devFileContentMessage"))}function l(){var n=!0;return t.$fileElement.length&&t.$fileElement.attr("type")=="file"?r==""?n=!1:typeof FormData=="undefined"?n=!1:t.$fileElement[0].files.length&&t.$fileElement[0].files[0].size>104857600&&(n=!1):n=!1,n}function a(n){var i='<div class="cautionBx">\t\t\t\t\t\t        <div class="cautionInner">\t\t\t\t\t\t\t        <p>업로드 파일에서 <strong><em class="highlight">주민번호로 의심되는 정보가 <span>{{ InvalidCount }}<\/span>건<\/em><\/strong> 검출되었습니다. 개인정보가 유출될 수 있는 파일은 등록하지 않으실 것을 권장합니다.<\/p>\t\t\t\t\t\t        <\/div> \t\t\t\t\t        <\/div>';t.$messageElement!=null&&t.$messageElement.length>0&&(i=i.replace("{{ InvalidCount }}",n.InvalidCount),i=i.replace("{{ ViolationContentsFirst }}",n.ViolationContentsFirst),t.$messageElement.html(i))}function v(){t.$messageElement!=null&&t.$messageElement.length>0&&t.$messageElement.html("")}function y(){v();l()&&h()}var e=/^(http(s)?:)*\/\/([a-z0-9-_\.]*)/i,r="",t={domainIncludeUrl:"",$fileElement:null,$messageElement:null,onShowLoading:null,onHideLoading:null},i={xhrFields:{withCredentials:!0},beforeSend:null,cache:!1,success:f,error:function(n){console.log(n.responseText)},complete:null},o={user:"file2.jobkorea.co.kr",company:"fileco.jobkorea.co.kr"},u={user:"/Net/TextUser/CheckFileContents",company:"/Include/JKFileFilterResult.asp"};return c(n),{start:y,fileUploadCallback:f}}